<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.128.0"><meta name=generator content="Relearn 6.0.0"><meta name=robots content="noindex, nofollow, noarchive, noimageindex"><meta name=description content="Custom Dialogs While the dialogs provided by the .NET Framework are useful in a variety of applications, there are times when we need to be able to design our own special-purpose dialog to obtain specific information from the user. This section outlines how Visual Studio® can be used to build such a dialog.
Let’s begin by considering a simple example. Suppose we are building an application that needs a dialog to obtain from the user the following pieces of information:"><meta name=author content="Rod Howell and Josh Weese"><meta name=twitter:card content="summary"><meta name=twitter:title content="Custom Dialogs :: Data Structures in C#"><meta name=twitter:description content="Custom Dialogs While the dialogs provided by the .NET Framework are useful in a variety of applications, there are times when we need to be able to design our own special-purpose dialog to obtain specific information from the user. This section outlines how Visual Studio® can be used to build such a dialog.
Let’s begin by considering a simple example. Suppose we are building an application that needs a dialog to obtain from the user the following pieces of information:"><meta property="og:url" content="https://textbooks.cs.ksu.edu/cis300/io/dialogs/custom/"><meta property="og:site_name" content="Data Structures in C#"><meta property="og:title" content="Custom Dialogs :: Data Structures in C#"><meta property="og:description" content="Custom Dialogs While the dialogs provided by the .NET Framework are useful in a variety of applications, there are times when we need to be able to design our own special-purpose dialog to obtain specific information from the user. This section outlines how Visual Studio® can be used to build such a dialog.
Let’s begin by considering a simple example. Suppose we are building an application that needs a dialog to obtain from the user the following pieces of information:"><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="Input/Output"><meta property="article:modified_time" content="2023-05-30T14:31:54-05:00"><meta itemprop=name content="Custom Dialogs :: Data Structures in C#"><meta itemprop=description content="Custom Dialogs While the dialogs provided by the .NET Framework are useful in a variety of applications, there are times when we need to be able to design our own special-purpose dialog to obtain specific information from the user. This section outlines how Visual Studio® can be used to build such a dialog.
Let’s begin by considering a simple example. Suppose we are building an application that needs a dialog to obtain from the user the following pieces of information:"><meta itemprop=dateModified content="2023-05-30T14:31:54-05:00"><meta itemprop=wordCount content="830"><title>Custom Dialogs :: Data Structures in C#</title>
<link href=/cis300/css/fontawesome-all.min.css?1737139522 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis300/css/fontawesome-all.min.css?1737139522 rel=stylesheet></noscript><link href=/cis300/css/nucleus.css?1737139522 rel=stylesheet><link href=/cis300/css/auto-complete.css?1737139522 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis300/css/auto-complete.css?1737139522 rel=stylesheet></noscript><link href=/cis300/css/perfect-scrollbar.min.css?1737139522 rel=stylesheet><link href=/cis300/css/fonts.css?1737139522 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis300/css/fonts.css?1737139522 rel=stylesheet></noscript><link href=/cis300/css/theme.css?1737139522 rel=stylesheet><link href=/cis300/css/theme-auto.css?1737139522 rel=stylesheet id=R-variant-style><link href=/cis300/css/chroma-auto.css?1737139522 rel=stylesheet id=R-variant-chroma-style><link href=/cis300/css/variant.css?1737139522 rel=stylesheet><link href=/cis300/css/print.css?1737139522 rel=stylesheet media=print><script src=/cis300/js/variant.js?1737139522></script><script>window.relearn=window.relearn||{},window.relearn.relBasePath="../../..",window.relearn.relBaseUri="../../../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cis300",window.index_js_url="/cis300/index.search.js",window.variants&&variants.init(["auto","light-theme","dark-theme"]),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><link href=/cis300/css/custom.css?1737139522 rel=stylesheet></head><body class="mobile-support tele disableInlineCopyToClipboard" data-url=/cis300/io/dialogs/custom/><div id=tele class="tele mirror"><div id=R-body class=default-animation><div id=R-body-overlay></div><div id=R-main-overlay></div><main id=R-body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><div hidden><h1 id=custom-dialogs>Custom Dialogs</h1></div><h2 id=custom-dialogs>Custom Dialogs</h2><p>While the dialogs provided by the .NET Framework are useful in a variety of applications, there are times when we need to be able to design our own special-purpose dialog to obtain specific information from the user. This section outlines how Visual Studio® can be used to build such a dialog.</p><p>Let&rsquo;s begin by considering a simple example. Suppose we are building an application that needs a dialog to obtain from the user the following pieces of information:</p><ul><li>a name;</li><li>a phone number; and</li><li>a number of siblings.</li></ul><p>In order to keep the example simple, the program will simply display this information in its main window. Thus, the main window looks like this:</p><img src=custom-dialog-main.jpg alt="A GUI displaying a person's information." style=zoom:67%><p>Clicking the &ldquo;Get New Information&rdquo; button will open our custom dialog, which will look like this:</p><img src=custom-dialog.jpg alt="A custom dialog." style=zoom:67%><p>After the user enters the information, clicking &ldquo;OK&rdquo; will cause the information entered to be displayed in the main window. If the user clicks &ldquo;Cancel&rdquo;, the main window will be unchanged.</p><p>After building the main form in Visual Studio&rsquo;s Design Window, we can build the dialog by creating another form. To do this, in the Solution Explorer, right-click on the project name and select &ldquo;Add->Form (Windows Forms)&mldr;&rdquo;. This will open a dialog for adding a new item, where the type of item is pre-selected to be a Windows Form. You will need to supply a name for the form. This name will serve as both a file name for a source file and the name of a class defined within this file. For example, we could choose the name, &ldquo;InformationDialog.cs&rdquo;, and the class will be named <strong>InformationDialog</strong>. Clicking the &ldquo;Add&rdquo; button will then open a new Design Window containing a form.</p><p>We can then use the Design Window to build this form as we would build any other form. In addition, the <strong>Button</strong> class has a <a href="https://learn.microsoft.com/en-us/dotnet/api/system.windows.forms.button.dialogresult?view=windowsdesktop-6.0#system-windows-forms-button-dialogresult" rel=external target=_blank><strong>DialogResult</strong></a> property that governs certain behavior when buttons are used within a dialog. This property is of type <a href="https://learn.microsoft.com/en-us/dotnet/api/system.windows.forms.dialogresult?view=windowsdesktop-6.0" rel=external target=_blank><strong>DialogResult</strong></a>. Setting it to a value other than <strong>None</strong> will cause the button to do the following when clicked, provided the form is displayed as a <a href=/cis300/io/dialogs/>modal dialog</a>:</p><ul><li>Close the form.</li><li>Return the value of the <strong>DialogResult</strong> property.</li></ul><p>Thus, we should set the &ldquo;OK&rdquo; button&rsquo;s <strong>DialogResult</strong> property to <strong>OK</strong> and the &ldquo;Cancel&rdquo; button&rsquo;s <strong>DialogResult</strong> property to <strong>Cancel</strong>. Once we have done this, there is no need to define any event handlers for these buttons.</p><p>Furthermore, the <a href="https://learn.microsoft.com/en-us/dotnet/api/system.windows.forms.form?view=windowsdesktop-6.0" rel=external target=_blank><strong>Form</strong></a> itself has two properties that can be set to provide shortcuts for these buttons. The <a href="https://learn.microsoft.com/en-us/dotnet/api/system.windows.forms.form.acceptbutton?view=windowsdesktop-6.0#system-windows-forms-form-acceptbutton" rel=external target=_blank><strong>AcceptButton</strong></a> property, of type <strong>IButtonControl</strong> (a super-type of <strong>Button</strong>), can be used to cause the &ldquo;Enter&rdquo; key to activate a button on the form, as if that button had been clicked. Thus, we could set this property to the &ldquo;OK&rdquo; button. Similarly, the <a href="https://learn.microsoft.com/en-us/dotnet/api/system.windows.forms.form.cancelbutton?view=windowsdesktop-6.0#system-windows-forms-form-cancelbutton" rel=external target=_blank><strong>CancelButton</strong></a> property (also of type <strong>IButtonControl</strong>) can be used to cause the &ldquo;Esc&rdquo; key to activate a button on the form. We could therefore set this property to the &ldquo;Cancel&rdquo; button.</p><p>While we don&rsquo;t need any event handlers for this dialog, we still need to provide code to allow the class for the main window to access the values provided by the user. This can be accomplished with three <strong>public</strong> <a href=/cis300/appendix/syntax/properties/>properties</a>, one for each of the three pieces of information the user can provide:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-C# data-lang=C#><span class=line><span class=cl><span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl><span class=cs>/// Gets the name.  (There is already a Name property inherited from</span>
</span></span><span class=line><span class=cl><span class=cs>/// the Form class, so we will use FullName.)</span>
</span></span><span class=line><span class=cl><span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kt>string</span> <span class=n>FullName</span> <span class=p>=&gt;</span> <span class=n>uxName</span><span class=p>.</span><span class=n>Text</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl><span class=cs>/// Gets the phone number.</span>
</span></span><span class=line><span class=cl><span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kt>string</span> <span class=n>PhoneNumber</span> <span class=p>=&gt;</span> <span class=n>uxPhoneNumber</span><span class=p>.</span><span class=n>Text</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl><span class=cs>/// Gets the number of siblings.</span>
</span></span><span class=line><span class=cl><span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kt>int</span> <span class=n>Siblings</span> <span class=p>=&gt;</span> <span class=p>(</span><span class=kt>int</span><span class=p>)</span><span class=n>uxSiblings</span><span class=p>.</span><span class=n>Value</span><span class=p>;</span></span></span></code></pre></div><p>In order for the main window to be able to display this dialog, it needs to construct an instance of it. We can add to its class definition a <strong>private</strong> field initialized to such an instance:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-C# data-lang=C#><span class=line><span class=cl><span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl><span class=cs>/// The dialog for obtaining information from the user.</span>
</span></span><span class=line><span class=cl><span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl><span class=kd>private</span> <span class=n>InformationDialog</span> <span class=n>_information</span> <span class=p>=</span> <span class=k>new</span><span class=p>();</span></span></span></code></pre></div><p>Finally, we need an event handler for the &ldquo;Get New Information&rdquo; button. This event handler needs to display the <strong>InformationDialog</strong> as a modal dialog, and if the user closes it with the &ldquo;OK&rdquo; button, to copy the information provided by the user to the main window. A <strong>Form</strong> provides two methods for displaying it as a dialog:</p><ul><li><a href="https://learn.microsoft.com/en-us/dotnet/api/system.windows.forms.control.show?view=windowsdesktop-6.0#system-windows-forms-control-show" rel=external target=_blank><strong>Show</strong></a> displays the <strong>Form</strong> as a <a href=/cis300/io/dialogs/>non-modal dialog</a>. It takes no parameters and returns nothing.</li><li><a href="https://learn.microsoft.com/en-us/dotnet/api/system.windows.forms.form.showdialog?view=windowsdesktop-6.0#system-windows-forms-form-showdialog" rel=external target=_blank><strong>ShowDialog</strong></a> displays the <strong>Form</strong> as a <a href=/cis300/io/dialogs/>modal dialog</a>. It takes no parameters and returns a <strong>DialogResult</strong> indicating how the user closed the dialog.</li></ul><p>Thus, the event handler can display the dialog and retrieve its information much like it would do with a <a href=/cis300/io/dialogs/file-dialogs/>file dialog</a>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-C# data-lang=C#><span class=line><span class=cl><span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl><span class=cs>/// Handles a Click event on the &#34;Get New Information&#34; button.</span>
</span></span><span class=line><span class=cl><span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl><span class=cs>/// &lt;param name=&#34;sender&#34;&gt;The object signaling the event.&lt;/param&gt;</span>
</span></span><span class=line><span class=cl><span class=cs>/// &lt;param name=&#34;e&#34;&gt;Information on the event.&lt;/param&gt;</span>
</span></span><span class=line><span class=cl><span class=kd>private</span> <span class=k>void</span> <span class=n>NewClick</span><span class=p>(</span><span class=kt>object</span> <span class=n>sender</span><span class=p>,</span> <span class=n>EventArgs</span> <span class=n>e</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=n>_information</span><span class=p>.</span><span class=n>ShowDialog</span><span class=p>()</span> <span class=p>==</span> <span class=n>DialogResult</span><span class=p>.</span><span class=n>OK</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>uxName</span><span class=p>.</span><span class=n>Text</span> <span class=p>=</span> <span class=n>_information</span><span class=p>.</span><span class=n>FullName</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>uxPhoneNumber</span><span class=p>.</span><span class=n>Text</span> <span class=p>=</span> <span class=n>_information</span><span class=p>.</span><span class=n>PhoneNumber</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>uxSiblings</span><span class=p>.</span><span class=n>Text</span> <span class=p>=</span> <span class=n>_information</span><span class=p>.</span><span class=n>Siblings</span><span class=p>.</span><span class=n>ToString</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p><a href=https://classroom.github.com/a/1a_tmRBS rel=external target=_blank>This git repository</a> contains the complete program described above.</p><footer class=footline></footer></article></div></main></div></div><script src=/cis300/js/clipboard.min.js?1737139522 defer></script><script src=/cis300/js/perfect-scrollbar.min.js?1737139522 defer></script><script src=/cis300/js/theme.js?1737139522 defer></script><script src=/cis300/js/tele-scroll.js?1737139522 defer></script></body></html>