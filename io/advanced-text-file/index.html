<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.89.4" />
    <meta name="description" content="K-State CIS 300: Data Structures">
<meta name="author" content="Rod Howell and Josh Weese">

    <link rel="icon" href="https://ksu-cs-textbooks.github.io/cis300/images/favicon.png" type="image/png">

    <title>Advanced Text File I/O :: Data Structures in C#</title>

    
    <link href="https://ksu-cs-textbooks.github.io/cis300/css/nucleus.css?1657824513" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis300/css/fontawesome-all.min.css?1657824513" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis300/css/hybrid.css?1657824513" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis300/css/featherlight.min.css?1657824513" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis300/css/perfect-scrollbar.min.css?1657824513" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis300/css/auto-complete.css?1657824513" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis300/css/atom-one-dark-reasonable.css?1657824513" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis300/css/theme.css?1657824513" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis300/css/tabs.css?1657824513" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis300/css/hugo-theme.css?1657824513" rel="stylesheet">
    
    <link href="https://ksu-cs-textbooks.github.io/cis300/css/theme-purple.css?1657824513" rel="stylesheet">
    
    
    
    

    <script src="https://ksu-cs-textbooks.github.io/cis300/js/jquery-3.3.1.min.js?1657824513"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
    

     
    
<script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$','$$'], ['\\[', '\\]']],
        processEscapes: true,
        processEnvironments: true
      },
      options: {
        skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
      }
    };
  
    window.addEventListener('load', (event) => {
        document.querySelectorAll("mjx-container").forEach(function(x){
          x.parentElement.classList += 'has-jax'})
      });
  
</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type="text/javascript" id="MathJax-script" async
src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  </head>
  <body class="" data-url="https://ksu-cs-textbooks.github.io/cis300/io/advanced-text-file/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="https://ksu-cs-textbooks.github.io/cis300/">
  CIS 300 - Data Structures
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="https://ksu-cs-textbooks.github.io/cis300/js/lunr.min.js?1657824513"></script>
<script type="text/javascript" src="https://ksu-cs-textbooks.github.io/cis300/js/auto-complete.js?1657824513"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/ksu-cs-textbooks.github.io\/cis300\/";
    
</script>
<script type="text/javascript" src="https://ksu-cs-textbooks.github.io/cis300/js/search.js?1657824513"></script>

    
  </div>
  
    <section id="homelinks">
      <ul>
        <li>
            <a class="padding" href='https://ksu-cs-textbooks.github.io/cis300/'><i class='fas fa-home'></i> Home</a>
        </li>
      </ul>
    </section>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
  
 

          
          




 
  
    
    <li data-nav-id="/io/" title="Input/Output" class="dd-item
        parent
        
        
        ">
      <a href="https://ksu-cs-textbooks.github.io/cis300/io/">
        
        
          
          <i class="fas fa-angle-down fa-fw"></i>
          
        
          <b>1. </b>Input/Output
          

      </a>
    
      
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/io/dialogs/" title="Dialogs" class="dd-item
        
        
        
        ">
      <a href="https://ksu-cs-textbooks.github.io/cis300/io/dialogs/">
        
        
          
          <i class="fas fa-angle-right fa-fw"></i>
          
        
          <b>1.1. </b>Dialogs
          

      </a>
    
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/io/simple-text-file/" title="Simple Text File I/O" class="dd-item ">
        <a href="https://ksu-cs-textbooks.github.io/cis300/io/simple-text-file/">
        <i class="fas fa-angle-down fa-fw" style="color: transparent;"></i>
        <b>1.2. </b>Simple Text File I/O
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/io/exceptions/" title="Exception Handling" class="dd-item ">
        <a href="https://ksu-cs-textbooks.github.io/cis300/io/exceptions/">
        <i class="fas fa-angle-down fa-fw" style="color: transparent;"></i>
        <b>1.3. </b>Exception Handling
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/io/advanced-text-file/" title="Advanced Text File I/O" class="dd-item active">
        <a href="https://ksu-cs-textbooks.github.io/cis300/io/advanced-text-file/">
        <i class="fas fa-angle-down fa-fw" style="color: transparent;"></i>
        <b>1.4. </b>Advanced Text File I/O
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/io/other-file-io/" title="Other File I/O" class="dd-item ">
        <a href="https://ksu-cs-textbooks.github.io/cis300/io/other-file-io/">
        <i class="fas fa-angle-down fa-fw" style="color: transparent;"></i>
        <b>1.5. </b>Other File I/O
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
    
  
 

          
          




 
  
    
    <li data-nav-id="/strings/" title="strings and StringBuilders" class="dd-item
        
        
        
        ">
      <a href="https://ksu-cs-textbooks.github.io/cis300/strings/">
        
        
          
          <i class="fas fa-angle-right fa-fw"></i>
          
        
          <b>2. </b>strings and StringBuilders
          

      </a>
    
  
 

          
          




 
  
    
    <li data-nav-id="/stacks-queues/" title="Stacks and Queues" class="dd-item
        
        
        
        ">
      <a href="https://ksu-cs-textbooks.github.io/cis300/stacks-queues/">
        
        
          
          <i class="fas fa-angle-right fa-fw"></i>
          
        
          <b>3. </b>Stacks and Queues
          

      </a>
    
  
 

          
          




 
  
    
    <li data-nav-id="/linked-lists/" title="Linked Lists" class="dd-item
        
        
        
        ">
      <a href="https://ksu-cs-textbooks.github.io/cis300/linked-lists/">
        
        
          
          <i class="fas fa-angle-right fa-fw"></i>
          
        
          <b>4. </b>Linked Lists
          

      </a>
    
  
 

          
          




 
  
    
    <li data-nav-id="/dictionaries/" title="Dictionaries" class="dd-item
        
        
        
        ">
      <a href="https://ksu-cs-textbooks.github.io/cis300/dictionaries/">
        
        
          
          <i class="fas fa-angle-right fa-fw"></i>
          
        
          <b>5. </b>Dictionaries
          

      </a>
    
  
 

          
          




 
  
    
    <li data-nav-id="/trees/" title="Trees" class="dd-item
        
        
        
        ">
      <a href="https://ksu-cs-textbooks.github.io/cis300/trees/">
        
        
          
          <i class="fas fa-angle-right fa-fw"></i>
          
        
          <b>6. </b>Trees
          

      </a>
    
  
 

          
          




 
  
    
    <li data-nav-id="/hashing/" title="Hash Tables" class="dd-item
        
        
        
        ">
      <a href="https://ksu-cs-textbooks.github.io/cis300/hashing/">
        
        
          
          <i class="fas fa-angle-right fa-fw"></i>
          
        
          <b>7. </b>Hash Tables
          

      </a>
    
  
 

          
          




 
  
    
    <li data-nav-id="/graphs/" title="Graphs" class="dd-item
        
        
        
        ">
      <a href="https://ksu-cs-textbooks.github.io/cis300/graphs/">
        
        
          
          <i class="fas fa-angle-right fa-fw"></i>
          
        
          <b>8. </b>Graphs
          

      </a>
    
  
 

          
          




 
  
    
    <li data-nav-id="/sorting/" title="Sorting" class="dd-item
        
        
        
        ">
      <a href="https://ksu-cs-textbooks.github.io/cis300/sorting/">
        
        
          
          <i class="fas fa-angle-right fa-fw"></i>
          
        
          <b>9. </b>Sorting
          

      </a>
    
  
 

          
          




 
  
    
    <li data-nav-id="/appendix/" title="Appendices" class="dd-item
        
        
        
        ">
      <a href="https://ksu-cs-textbooks.github.io/cis300/appendix/">
        
        
          
          <i class="fas fa-angle-right fa-fw"></i>
          
        
          <b>A. </b>Appendices
          

      </a>
    
  
 

          
        
    </ul>

    
    

    
    <section id="footer">
      <p>Built using <a href="http://gohugo.io/">Hugo</a>
  and <a href="https://github.com/russfeld/ksucs-hugo-theme">ksucs-hugo-theme</a>
  with assistance from Josh Weese and Russ Feldhausen.</p>
<br/>
<p>Microsoft and Visual Studio are either registered trademarks or trademarks of Microsoft Corporation in the United States and/or other countries. </p>
<br/>
<p><strong><i>© Copyright 2014-2020, <a href="http://people.cs.ksu.edu/~rhowell/" target="_">Rod Howell</a>. All rights reserved.</i></strong></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                  <div id="top-github-link">
                    <a id="themelink" class="github-link" title='Toggle Light or Dark Mode' href="#">
                      <i class="fas fa-moon"></i>
                      <span id="top-github-link-text"></span>
                    </a>
                    <a class="github-link" title='Teleprompter View' href="tele.html" target="blank">
                      <i class="fas fa-tv"></i>
                      <span id="top-github-link-text"></span>
                    </a>
                    <a class="github-link" title='Embed this page' href="embed.html" target="blank">
                      <i class="fas fa-expand-arrows-alt"></i>
                      <span id="top-github-link-text"></span>
                    </a>
                
                  
                  
                  
                    <a class="github-link" title='Edit this page' href="https://gitlab.cs.ksu.edu/cis300/cis300-book/tree/master/content/io/advanced-text-file.md" target="blank">
                      <i class="fas fa-code-branch"></i>
                      <span id="top-github-link-text"></span>
                    </a>
                  
                
                  </div>
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='https://ksu-cs-textbooks.github.io/cis300/'></a> > <a href='https://ksu-cs-textbooks.github.io/cis300/io/'>Input/Output</a> > Advanced Text File I/O
          
        
          
        
          
        
                 
                  </span>
                </div>
                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
          <div id="chapter">
        
        <div id="body-inner">
          

        


<h2 id="advanced-text-file-io">Advanced Text File I/O</h2>
<p>Though the <strong>File.ReadAllText</strong> and <strong>File.WriteAllText</strong> methods
provide simple mechanisms for reading and writing text files, they are
not always the best choices. For one reason, files can be very large &mdash;
too large to fit into memory, or possibly even larger than the maximum
length of a <strong>string</strong> in C# (2,147,483,647 characters). Even when it
is possible to store the entire contents of a file as a <strong>string</strong>, it
may not be desirable, as the high memory usage may degrade the overall
performance of the system.</p>
<p>For the purpose of handling a sequence of input or output data in more
flexible ways, the .NET Framework provides <em>streams</em>. These streams are
classes that provide uniform access to a wide variety of sequences of
input or output data, such as files, network connections, other
processes, or even blocks of memory. The
<a href="https://docs.microsoft.com/en-us/dotnet/api/system.io.streamreader?view=netframework-4.7.2" target="_blank"><strong>StreamReader</strong></a>
and
<a href="https://docs.microsoft.com/en-us/dotnet/api/system.io.streamwriter?view=netframework-4.7.2" target="_blank"><strong>StreamWriter</strong></a>
classes (in the
<a href="https://docs.microsoft.com/en-us/dotnet/api/system.io?view=netframework-4.7.2" target="_blank"><strong>System.IO</strong></a>
namespace) provide read and write, respectively, access to text streams,
including text files.</p>
<p>Some of the more useful <strong>public</strong> members of the <strong>StreamReader</strong> class
are:</p>
<ul>
<li>A
<a href="https://docs.microsoft.com/en-us/dotnet/api/system.io.streamreader.-ctor?view=netframework-4.7.2#System_IO_StreamReader__ctor_System_String_" target="_blank">constructor</a>
that takes a <strong>string</strong> giving a file name as its only parameter and
constructs a <strong>StreamReader</strong> to read from that file.</li>
<li>A
<a href="https://docs.microsoft.com/en-us/dotnet/api/system.io.streamreader.read?view=netframework-4.7.2#System_IO_StreamReader_Read" target="_blank"><strong>Read</strong></a>
method that takes no parameters. It reads the next character from
the stream and returns it as an <strong>int</strong>. If it cannot read a
character because it is already at the end of the stream, it returns
-1 (it returns an <strong>int</strong> because -1 is outside the range of
<strong>char</strong> values).</li>
<li>A
<a href="https://docs.microsoft.com/en-us/dotnet/api/system.io.streamreader.readline?view=netframework-4.7.2" target="_blank"><strong>ReadLine</strong></a>
method that takes no parameters. It reads the next line from the
stream and returns it as a <strong>string</strong>. If it cannot read a line
because it is already at the end of the stream, it returns <strong>null</strong>.</li>
<li>An
<a href="https://docs.microsoft.com/en-us/dotnet/api/system.io.streamreader.endofstream?view=netframework-4.7.2" target="_blank"><strong>EndOfStream</strong></a>
property that gets a <strong>bool</strong> indicating whether the end of the
stream has been reached.</li>
</ul>
<p>With these members, we can read a text file either a character at a time
or a line at a time until we reach the end of the file. The
<strong>StreamWriter</strong> class has similar <strong>public</strong> members:</p>
<ul>
<li>A
<a href="https://docs.microsoft.com/en-us/dotnet/api/system.io.streamwriter.-ctor?view=netframework-4.7.2#System_IO_StreamWriter__ctor_System_String_" target="_blank">constructor</a>
that takes a <strong>string</strong> giving a file name as its only parameter and
constructs a <strong>StreamWriter</strong> to write to this file. If the file
already exists, it is replaced by what is written by the
<strong>StreamWriter</strong>; otherwise, a new file is created.</li>
<li>A <a href="https://docs.microsoft.com/en-us/dotnet/api/system.io.streamwriter.write?view=netframework-4.7.2#System_IO_StreamWriter_Write_System_Char_" target="_blank"><strong>Write</strong></a>
method that takes a <strong>char</strong> as its only parameter. It writes this
<strong>char</strong> to the end of the stream.</li>
<li>Another
<a href="https://docs.microsoft.com/en-us/dotnet/api/system.io.streamwriter.write?view=netframework-4.7.2#System_IO_StreamWriter_Write_System_String_" target="_blank"><strong>Write</strong></a>
method that takes a <strong>string</strong> as its only parameter. It writes this
<strong>string</strong> to the end of the stream.</li>
<li>A
<a href="https://docs.microsoft.com/en-us/dotnet/api/system.io.textwriter.writeline?view=netframework-4.7.2#System_IO_TextWriter_WriteLine" target="_blank"><strong>WriteLine</strong></a>
method that takes no parameters. It writes a line terminator to the
end of the stream (i.e., it ends the current line of text).</li>
<li>Another
<a href="https://docs.microsoft.com/en-us/dotnet/api/system.io.textwriter.writeline?view=netframework-4.7.2#System_IO_TextWriter_WriteLine_System_Char_" target="_blank"><strong>WriteLine</strong></a>
method that takes a <strong>char</strong> as its only parameter. It writes this
<strong>char</strong> to the end of the stream, then terminates the current line
of text.</li>
<li>Yet another
<a href="https://docs.microsoft.com/en-us/dotnet/api/system.io.textwriter.writeline?view=netframework-4.7.2#System_IO_TextWriter_WriteLine_System_String_" target="_blank"><strong>WriteLine</strong></a>
method that takes a <strong>string</strong> as its only parameter. It writes this
<strong>string</strong> to the end of the stream, then terminates the current
line of text.</li>
</ul>
<p>Thus, with a <strong>StreamWriter</strong>, we can build a text file a character at a
time, a line at a time, or an arbitrary <strong>string</strong> at a time. In fact, a
number of other <strong>Write</strong> and <strong>WriteLine</strong> methods exist, providing the
ability to write various other types, such as <strong>int</strong> or <strong>double</strong>. In
each case, the given value is first converted to a <strong>string</strong>, then
written to the stream.</p>
<p>Streams are different from other classes, such as <strong>string</strong>s or arrays,
in that they are <em>unmanaged</em> resources. When a managed resource, such as
a <strong>string</strong> or an array, is no longer being used by the program, the
garbage collector will reclaim the space that it occupies so that it can
be allocated to new objects that may need to be constructed. However,
after a stream is constructed, it remains under the control of the
program until the program explicitly releases it. This has several
practical ramifications. For example, the underlying file remains
<em>locked</em>, restricting how other programs may use it. In fact, if an
output stream is not properly <em>closed</em> by the program, some of the data
written to it may not actually reach the underlying file. This is
because output streams are typically <em>buffered</em> for efficiency &mdash; when
bytes are written to the stream, they are first accumulated in an
internal array, then written as a single block when the array is full.
When the program is finished writing, it needs to make sure that this
array is <em>flushed</em> to the underlying file.</p>
<p>Both the <strong>StreamReader</strong> and <strong>StreamWriter</strong> classes have
<a href="https://docs.microsoft.com/en-us/dotnet/api/system.idisposable.dispose?view=netframework-4.7.2" target="_blank"><strong>Dispose</strong></a>
methods to release them properly; however, because I/O typically
requires exception handling, it can be tricky to ensure that this method
is always called when the I/O is finished. Specifically, the
<strong>try-catch</strong> may be located in a method that does not have access to
the stream. In such a case, the <strong>catch</strong>-block cannot call the stream&rsquo;s
<strong>Dispose</strong> method.</p>
<p><span id="using"></span> To handle this difficulty, C# provides a
<strong>using</strong> statement. A <strong>using</strong> statement is different from a <strong>using</strong>
directive, such as</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C#" data-lang="C#"><span style="color:#66d9ef">using</span> System.IO;
</code></pre></div><p>A <strong>using</strong> statement occurs within a method definition, not at the top
of a code file. Its recommended form is as follows:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C#" data-lang="C#"><span style="color:#66d9ef">using</span> ( <span style="color:#75715e">/* declaration and initialization of disposable variable(s) */</span> )
{

    <span style="color:#75715e">/* Code that uses the disposable variables(s) */</span>

}
</code></pre></div><p>Thus, if we want to read and process a text file whose name is given by
the <strong>string</strong> variable <code>fileName</code>, we could use the following code
structure:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C#" data-lang="C#"><span style="color:#66d9ef">using</span> (StreamReader input = <span style="color:#66d9ef">new</span> StreamReader(fileName))
{

    <span style="color:#75715e">/* Code that reads and process the file accessed by the
</span><span style="color:#75715e">     * StreamReader input */</span>

}
</code></pre></div><p>This declares the variable <code>input</code> to be of type <strong>StreamReader</strong> and
initializes it to a new <strong>StreamReader</strong> to read the given file. This
variable is only visible with the braces; furthermore, it is read-only &mdash;
its value cannot be changed to refer to a different <strong>StreamReader</strong>.
The <strong>using</strong> statement then ensures that whenever control exits the
code within the braces, <code>input</code>&rsquo;s <strong>Dispose</strong> method is called.</p>
<p>More than one variable of the same type may be declared and initialized
within the parentheses of a <strong>using</strong> statement; for example:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C#" data-lang="C#"><span style="color:#66d9ef">using</span> (StreamReader input1 = <span style="color:#66d9ef">new</span> StreamReader(fileName1),
    input2 = <span style="color:#66d9ef">new</span> StreamReader(fileName2))
{

    <span style="color:#75715e">/* Code that reads from input1 and input2 */</span>

}
</code></pre></div><p>The type of variable(s) declared must be a subtype of
<a href="https://docs.microsoft.com/en-us/dotnet/api/system.idisposable?view=netframework-4.7.2" target="_blank"><strong>IDisposable</strong></a>.
This ensures that the variables each have a <strong>Dispose</strong> method.</p>
<p>As a complete example of the use of a <strong>StreamReader</strong> and a
<strong>StreamWriter</strong>, together with a <strong>using</strong> statement for each, suppose
we want to write a method that takes as its parameters two <strong>string</strong>s
giving the name of an input file and the name of an output file. The
method is to reproduce the input file as the output file, but with each
line prefixed by a line number and a tab. We will start numbering lines
with 1. The following method accomplishes this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C#" data-lang="C#"><span style="color:#75715e">/// &lt;summary&gt;
</span><span style="color:#75715e">/// Copies the file at inFileName to outFileName with each line
</span><span style="color:#75715e">/// prefixed by its line number followed by a tab.
</span><span style="color:#75715e">/// &lt;/summary&gt;
</span><span style="color:#75715e">/// &lt;param name=&#34;inFileName&#34;&gt;The path name of the input file.&lt;/param&gt;
</span><span style="color:#75715e">/// &lt;param name=&#34;outFileName&#34;&gt;The path name of the output file.&lt;/param&gt;
</span><span style="color:#75715e"></span><span style="color:#66d9ef">private</span> <span style="color:#66d9ef">void</span> AddLineNumbers(<span style="color:#66d9ef">string</span> inFileName, <span style="color:#66d9ef">string</span> outFileName)
{
    <span style="color:#66d9ef">using</span> (StreamReader input = <span style="color:#66d9ef">new</span> StreamReader(inFileName))
    {
        <span style="color:#66d9ef">using</span> (StreamWriter output = <span style="color:#66d9ef">new</span> StreamWriter(outFileName))
        {
            <span style="color:#66d9ef">int</span> count = <span style="color:#ae81ff">0</span>;
            <span style="color:#66d9ef">while</span> (!input.EndOfStream)
            {
                <span style="color:#66d9ef">string</span> line = input.ReadLine();
                count++;
                output.Write(count);
                output.Write(<span style="color:#e6db74">&#39;\t&#39;</span>);   <span style="color:#75715e">// The tab character
</span><span style="color:#75715e"></span>                output.WriteLine(line);
            }
        }
    }
}
</code></pre></div><p>We can call the above method within a <strong>try</strong>-block to handle any
exceptions that may be thrown during the I/O. The <strong>catch</strong>-block will
not have access to either <code>input</code> or <code>output</code>, but it doesn&rsquo;t need it.
If an exception is thrown during the I/O, the two <strong>using</strong> statements
will ensure that the <strong>Dispose</strong> methods of both the <strong>StreamReader</strong>
and the <strong>StreamWriter</strong> are called.</p>


<footer class="footline">
	
</footer>

        
        </div> 
        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="https://ksu-cs-textbooks.github.io/cis300/io/exceptions/" title="Exception Handling"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="https://ksu-cs-textbooks.github.io/cis300/io/other-file-io/" title="Other File I/O" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="https://ksu-cs-textbooks.github.io/cis300/js/clipboard.min.js?1657824513"></script>
    <script src="https://ksu-cs-textbooks.github.io/cis300/js/perfect-scrollbar.min.js?1657824513"></script>
    <script src="https://ksu-cs-textbooks.github.io/cis300/js/perfect-scrollbar.jquery.min.js?1657824513"></script>
    <script src="https://ksu-cs-textbooks.github.io/cis300/js/jquery.sticky.js?1657824513"></script>
    <script src="https://ksu-cs-textbooks.github.io/cis300/js/featherlight.min.js?1657824513"></script>
    <script src="https://ksu-cs-textbooks.github.io/cis300/js/highlight.pack.js?1657824513"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="https://ksu-cs-textbooks.github.io/cis300/js/modernizr.custom-3.6.0.js?1657824513"></script>
    <script src="https://ksu-cs-textbooks.github.io/cis300/js/learn.js?1657824513"></script>
    <script src="https://ksu-cs-textbooks.github.io/cis300/js/hugo-learn.js?1657824513"></script>
    <script src="https://ksu-cs-textbooks.github.io/cis300/js/themer.js?1657824513"></script>

    
        
            <script src="https://ksu-cs-textbooks.github.io/cis300/mermaid/mermaid.js?1657824513"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    

    

    
    

    
<script 
src="https://cdn.jsdelivr.net/npm/quizdown@latest/public/build/quizdown.js">
</script>
<script 
src="https://cdn.jsdelivr.net/npm/quizdown@latest/public/build/extensions/quizdownKatex.js">
</script>
<script 
src="https://cdn.jsdelivr.net/npm/quizdown@latest/public/build/extensions/quizdownHighlight.js">
</script>
<script>quizdown.register(quizdownHighlight).register(quizdownKatex).init()</script> 
  </body>
</html>

