<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article data-r-output-format=print><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.148.1"><meta name=generator content="Relearn 8.0.0"><meta name=description content="strings Instances of the string class are immutable sequences of characters. Because string is a class, it is a reference type. Because instances are immutable, once they are constructed, their contents cannot change. Note that this does not mean that string variables cannot change - we can assign a string variable s the value â€œabcâ€ and later assign it the value â€œxyzâ€. These assignments simply assign to s references to different instances of the string class. What immutability does mean is that there is no way to change any of the characters in either of these instances (i.e., in either â€œabcâ€ or â€œxyzâ€). As a result, it is safe to copy a string by simply assigning the value of one string variable to another; for example, if s is a string variable, we can write:"><meta name=author content="Rod Howell and Josh Weese"><meta name=twitter:card content="summary"><meta name=twitter:title content="strings :: Data Structures in C#"><meta name=twitter:description content="strings Instances of the string class are immutable sequences of characters. Because string is a class, it is a reference type. Because instances are immutable, once they are constructed, their contents cannot change. Note that this does not mean that string variables cannot change - we can assign a string variable s the value â€œabcâ€ and later assign it the value â€œxyzâ€. These assignments simply assign to s references to different instances of the string class. What immutability does mean is that there is no way to change any of the characters in either of these instances (i.e., in either â€œabcâ€ or â€œxyzâ€). As a result, it is safe to copy a string by simply assigning the value of one string variable to another; for example, if s is a string variable, we can write:"><meta property="og:url" content="https://textbooks.cs.ksu.edu/cis300/strings/strings/"><meta property="og:site_name" content="Data Structures in C#"><meta property="og:title" content="strings :: Data Structures in C#"><meta property="og:description" content="strings Instances of the string class are immutable sequences of characters. Because string is a class, it is a reference type. Because instances are immutable, once they are constructed, their contents cannot change. Note that this does not mean that string variables cannot change - we can assign a string variable s the value â€œabcâ€ and later assign it the value â€œxyzâ€. These assignments simply assign to s references to different instances of the string class. What immutability does mean is that there is no way to change any of the characters in either of these instances (i.e., in either â€œabcâ€ or â€œxyzâ€). As a result, it is safe to copy a string by simply assigning the value of one string variable to another; for example, if s is a string variable, we can write:"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="strings and StringBuilders"><meta property="article:modified_time" content="2023-05-31T10:25:43-05:00"><meta itemprop=name content="strings :: Data Structures in C#"><meta itemprop=description content="strings Instances of the string class are immutable sequences of characters. Because string is a class, it is a reference type. Because instances are immutable, once they are constructed, their contents cannot change. Note that this does not mean that string variables cannot change - we can assign a string variable s the value â€œabcâ€ and later assign it the value â€œxyzâ€. These assignments simply assign to s references to different instances of the string class. What immutability does mean is that there is no way to change any of the characters in either of these instances (i.e., in either â€œabcâ€ or â€œxyzâ€). As a result, it is safe to copy a string by simply assigning the value of one string variable to another; for example, if s is a string variable, we can write:"><meta itemprop=dateModified content="2023-05-31T10:25:43-05:00"><meta itemprop=wordCount content="648"><title>strings :: Data Structures in C#</title><link href=https://textbooks.cs.ksu.edu/cis300/strings/strings/ rel=canonical type=text/html title="strings :: Data Structures in C#"><link href=/cis300/strings/strings/index.xml rel=alternate type=application/rss+xml title="strings :: Data Structures in C#"><link href=/cis300/strings/strings/tele.html rel=alternate type=text/html title="strings :: Data Structures in C#"><link href=/cis300/strings/strings/embed.html rel=alternate type=text/html title="strings :: Data Structures in C#"><link href=/cis300/css/auto-complete/auto-complete.min.css?1768892768 rel=stylesheet><script src=/cis300/js/auto-complete/auto-complete.min.js?1768892768 defer></script><script src=/cis300/js/search-lunr.min.js?1768892768 defer></script><script src=/cis300/js/search.min.js?1768892768 defer></script><script>window.relearn=window.relearn||{},window.relearn.index_js_url="/cis300/searchindex.en.js?1768892768"</script><script src=/cis300/js/lunr/lunr.min.js?1768892768 defer></script><script src=/cis300/js/lunr/lunr.stemmer.support.min.js?1768892768 defer></script><script src=/cis300/js/lunr/lunr.multi.min.js?1768892768 defer></script><script src=/cis300/js/lunr/lunr.en.min.js?1768892768 defer></script><script>window.relearn=window.relearn||{},window.relearn.contentLangs=["en"]</script><link href=/cis300/fonts/fontawesome/css/fontawesome-all.min.css?1768892768 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis300/fonts/fontawesome/css/fontawesome-all.min.css?1768892768 rel=stylesheet></noscript><link href=/cis300/css/perfect-scrollbar/perfect-scrollbar.min.css?1768892768 rel=stylesheet><link href=/cis300/css/theme.min.css?1768892768 rel=stylesheet><link href=/cis300/css/format-print.min.css?1768892768 rel=stylesheet id=R-format-style><script>window.relearn=window.relearn||{},window.relearn.min=`.min`,window.relearn.path="/strings/strings/",window.relearn.relBasePath="../..",window.relearn.relBaseUri="../../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cis300",window.relearn.disableAnchorCopy=!1,window.relearn.disableAnchorScrolling=!1,window.relearn.disableInlineCopyToClipboard=!0,window.relearn.enableBlockCodeWrap=!1,window.relearn.getItem=(e,t)=>e.getItem(t),window.relearn.setItem=(e,t,n)=>e.setItem(t,n),window.relearn.removeItem=(e,t)=>e.removeItem(t),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`,window.relearn.themevariants=["light-theme"],window.relearn.customvariantname="my-custom-variant",window.relearn.writeVariant=!1,window.relearn.changeVariant=function(e){var t=document.documentElement.dataset.rThemeVariant;window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e),document.documentElement.dataset.rThemeVariant=e,t!=e&&(document.dispatchEvent(new CustomEvent("themeVariantLoaded",{detail:{variant:e,oldVariant:t}})),window.relearn.markVariant())},window.relearn.markVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant");document.querySelectorAll(".R-variantswitcher select").forEach(t=>{t.value=e})},window.relearn.initVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant")??"";e==window.relearn.customvariantname||(!e||!window.relearn.themevariants.includes(e))&&(e=window.relearn.themevariants[0],window.relearn.writeVariant&&window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e)),document.documentElement.dataset.rThemeVariant=e},window.relearn.initVariant(),window.relearn.markVariant()</script><link href=/cis300/css/custom.css?1768892768 rel=stylesheet></head><body class="mobile-support print" data-url=/cis300/strings/strings/><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></div><div class="topbar-button topbar-button-toc" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><button class=topbar-control onclick=toggleTopbarFlyout(this) type=button title="Table of Contents (CTRL+ALT+t)"><i class="fa-fw fas fa-list-alt"></i></button><div class=topbar-content><div class=topbar-content-wrapper><nav class=TableOfContents><ul><li><a href=#strings><strong>string</strong>s</a></li></ul></nav></div></div></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement class=a11y-only><a itemprop=item href=/cis300/><span itemprop=name>Data Structures in C#</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/cis300/strings/><span itemprop=name>strings and StringBuilders</span></a><meta itemprop=position content="2">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>strings</span><meta itemprop=position content="3"></li></ol><div class="topbar-area topbar-area-end" data-area=end><div class="topbar-button topbar-button-edit" data-content-empty=disable data-width-s=area-more data-width-m=show data-width-l=show><a class=topbar-control href=https://github.com/ksu-cs-textbooks/cis300/edit/main/content/strings/strings.md rel=external target=_blank title="Edit (CTRL+ALT+w)"><i class="fa-fw fas fa-pen"></i></a></div><div class="topbar-button topbar-button-print" data-content-empty=disable data-width-s=area-more data-width-m=show data-width-l=show><a class=topbar-control href=/cis300/strings/strings/index.print.html title="Print whole chapter (CTRL+ALT+p)"><i class="fa-fw fas fa-print"></i></a></div><div class="topbar-button topbar-button-prev" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/cis300/strings/ title="strings and StringBuilders (ðŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a></div><div class="topbar-button topbar-button-next" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/cis300/strings/stringbuilders/ title="StringBuilders (ðŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a></div><div class="topbar-button topbar-button-more" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><button class=topbar-control onclick=toggleTopbarFlyout(this) type=button title=More><i class="fa-fw fas fa-ellipsis-v"></i></button><div class=topbar-content><div class=topbar-content-wrapper><div class="topbar-area topbar-area-more" data-area=more><div class="topbar-button topbar-button-embed" data-content-empty=disable data-width-s=area-more data-width-m=show data-width-l=show><a class=topbar-control href=/cis300/strings/strings/embed.html title="Embeddable Version"><i class="fa-fw fas fa-expand-arrows-alt"></i></a></div><div class="topbar-button topbar-button-tele" data-content-empty=disable data-width-s=area-more data-width-m=show data-width-l=show><a class=topbar-control href=/cis300/strings/strings/tele.html title="Teleprompter View"><i class="fa-fw fas fa-tv"></i></a></div></div></div></div></div></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable strings" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><div hidden><h1 id=strings>strings</h1></div><h2 id=strings><strong>string</strong>s</h2><p>Instances of the
<a href="https://learn.microsoft.com/en-us/dotnet/api/system.string?view=net-6.0" rel=external target=_blank><strong>string</strong></a>
class are <em>immutable</em> sequences of characters. Because <strong>string</strong> is a
class, it is a <a href=/cis300/appendix/syntax/reference-value/>reference
type</a>. Because
instances are immutable, once they are constructed, their contents
cannot change. Note that this does <em>not</em> mean that <strong>string</strong> variables
cannot change - we can assign a <strong>string</strong> variable <code>s</code> the value &ldquo;abc&rdquo;
and later assign it the value &ldquo;xyz&rdquo;. These assignments simply assign to
<code>s</code> references to different instances of the <strong>string</strong> class. What
immutability does mean is that there is no way to change any of the
characters in either of these instances (i.e., in either &ldquo;abc&rdquo; or
&ldquo;xyz&rdquo;). As a result, it is safe to copy a <strong>string</strong> by simply assigning
the value of one <strong>string</strong> variable to another; for example, if <code>s</code> is
a <strong>string</strong> variable, we can write:</p><div class=highlight dir=auto><pre tabindex=0 class=chroma><code class=language-C# data-lang=C#><span class=line><span class=cl><span class=kt>string</span> <span class=n>t</span> <span class=p>=</span> <span class=n>s</span><span class=p>;</span></span></span></code></pre></div><p>Note that this is <em>not</em> safe when dealing with mutable reference types,
such as arrays. For example, let <code>a</code> be an <strong>int[Â ]</strong> with at least
one element, and consider the following code sequence:</p><div class=highlight dir=auto><pre tabindex=0 class=chroma><code class=language-C# data-lang=C#><span class=line><span class=cl><span class=kt>int</span><span class=p>[</span> <span class=p>]</span> <span class=n>b</span> <span class=p>=</span> <span class=n>a</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>b</span><span class=p>[</span><span class=m>0</span><span class=p>]++;</span></span></span></code></pre></div><p>Because <code>a</code> and <code>b</code> refer to the same array, <code>a[0]</code> is incremented as
well. This danger is absent for <strong>string</strong>s because they are immutable.</p><p>We access individual characters in a <strong>string</strong> by indexing; i.e., if
<code>s</code> is a <strong>string</strong> variable, then <code>s[0]</code> retrieves its first character,
<code>s[1]</code> retrieves its second character, etc. For example, if <code>s</code> refers
to the string, &ldquo;abc&rdquo;, then after executing</p><div class=highlight dir=auto><pre tabindex=0 class=chroma><code class=language-C# data-lang=C#><span class=line><span class=cl><span class=kt>char</span> <span class=n>c</span> <span class=p>=</span> <span class=n>s</span><span class=p>[</span><span class=m>1</span><span class=p>];</span></span></span></code></pre></div><p><code>c</code> will contain &lsquo;b&rsquo;. Note that a statement like</p><div class=highlight dir=auto><pre tabindex=0 class=chroma><code class=language-C# data-lang=C#><span class=line><span class=cl><span class=n>s</span><span class=p>[</span><span class=m>0</span><span class=p>]</span> <span class=p>=</span> <span class=sc>&#39;x&#39;</span><span class=p>;</span></span></span></code></pre></div><p>is prohibited in order to enforce immutability.</p><p>We obtain the number of characters in a <strong>string</strong> using its
<a href="https://learn.microsoft.com/en-us/dotnet/api/system.string.length?view=net-6.0#system-string-length" rel=external target=_blank><strong>Length</strong></a>
property; for example:</p><div class=highlight dir=auto><pre tabindex=0 class=chroma><code class=language-C# data-lang=C#><span class=line><span class=cl><span class=kt>int</span> <span class=n>len</span> <span class=p>=</span> <span class=n>s</span><span class=p>.</span><span class=n>Length</span><span class=p>;</span></span></span></code></pre></div><details open class="box cstyle notices note"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-exclamation-circle"></i>
Note</summary><div class=box-content><p>A <strong>string</strong> may have a length of 0. This means that it is the <em>empty
string</em>, denoted by &ldquo;&rdquo;. Note that "" is different from a <strong>null</strong>
reference - for example, if <code>s</code> refers to &ldquo;&rdquo;, then <code>s.Length</code>
has a value of 0, but if <code>s</code> is <strong>null</strong>, then this expression will
throw a <strong>NullReferenceException</strong>.</p></div></details><p>We can concatenate two <strong>string</strong>s using the <code>+</code> operator. For example, if
<code>s</code> refers to the <strong>string</strong> &ldquo;abc&rdquo; and <code>t</code> refers to the <strong>string</strong>
&ldquo;xyz&rdquo;, then</p><div class=highlight dir=auto><pre tabindex=0 class=chroma><code class=language-C# data-lang=C#><span class=line><span class=cl><span class=kt>string</span> <span class=n>u</span> <span class=p>=</span> <span class=n>s</span> <span class=p>+</span> <span class=n>t</span><span class=p>;</span></span></span></code></pre></div><p>will assign the <strong>string</strong> &ldquo;abcxyz&rdquo; to <code>u</code>.</p><p>Because <strong>string</strong>s are immutable, building long <strong>string</strong>s directly
from many small pieces is very inefficient. Suppose, for example, that
we want to convert all the lower-case characters in the <strong>string</strong>
<code>text</code> to upper-case, and to convert all upper-case letters in <code>text</code> to
lower-case. All other characters we will leave unchanged. We can do this
with the following code:</p><div class=highlight dir=auto><pre tabindex=0 class=chroma><code class=language-C# data-lang=C#><span class=line><span class=cl><span class=kt>string</span> <span class=n>result</span> <span class=p>=</span> <span class=s>&#34;&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=p>=</span> <span class=m>0</span><span class=p>;</span> <span class=n>i</span> <span class=p>&lt;</span> <span class=n>text</span><span class=p>.</span><span class=n>Length</span><span class=p>;</span> <span class=n>i</span><span class=p>++)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>char</span> <span class=n>c</span> <span class=p>=</span> <span class=n>text</span><span class=p>[</span><span class=n>i</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=kt>char</span><span class=p>.</span><span class=n>IsLower</span><span class=p>(</span><span class=n>c</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>result</span> <span class=p>+=</span> <span class=kt>char</span><span class=p>.</span><span class=n>ToUpper</span><span class=p>(</span><span class=n>c</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=kt>char</span><span class=p>.</span><span class=n>IsUpper</span><span class=p>(</span><span class=n>c</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>result</span> <span class=p>+=</span> <span class=kt>char</span><span class=p>.</span><span class=n>ToLower</span><span class=p>(</span><span class=n>c</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>result</span> <span class=p>+=</span> <span class=n>c</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>Now suppose that <code>text</code> contains 100,000 characters. Each iteration of
the loop executes one of the three branches of the <strong>if</strong>-statement,
each of which concatenates one character to the <strong>string</strong> accumulated
so far. Because <strong>string</strong>s are immutable, this concatenation must be
done by copying all the characters in <code>result</code>, along with the
concatenated character, to a new <strong>string</strong>. As a result, if we were to
add up the total number of characters copied over the course of the
entire loop, we would come up with 5,000,050,000 character copies done.
This may take a while. In general, we say that this code runs in
<em>O</em>(<em>n</em><sup>2</sup>) time, where <em>n</em> is the length of <code>text</code>. This means
that as <em>n</em> increases, the running time of the code is at worst
proportional to <em>n</em><sup>2</sup>. In <a href=/cis300/strings/stringbuilders/>the next
section</a>, we will see
how we can do this much more efficiently using another data structure.</p><p><strong>string</strong>s have many other methods to allow various kinds of
manipulation - see <a href="https://learn.microsoft.com/en-us/dotnet/api/system.string?view=net-6.0" rel=external target=_blank>the documentation for the <strong>string</strong>
class</a>
for details.</p><footer class=footline></footer></article></div></main><div class=git-footer><p class=theme-version-footer>8.0.0</p><p>Last modified by:
<i class='fa-fw fas fa-user'></i> <a href=mailto:rhowell@ksu.edu>Rod Howell</a>
<i class='fas fa-calendar'></i> <a href=https://github.com/ksu-cs-textbooks/cis300/commit/4453de351fe700d9a927dd9cbec5947f1915cb62>May 31, 2023</a></p></div></div><script>window.MathJax=Object.assign(window.MathJax||{},{tex:{inlineMath:[["\\(","\\)"],["$","$"]],displayMath:[["\\[","\\]"],["$$","$$"]]},options:{enableMenu:!1}},JSON.parse("{}"))</script><script id=MathJax-script async src=/cis300/js/mathjax/tex-mml-chtml.js?1768892768></script><script src=/cis300/js/clipboard/clipboard.min.js?1768892768 defer></script><script src=/cis300/js/perfect-scrollbar/perfect-scrollbar.min.js?1768892768 defer></script><script src=/cis300/js/theme.min.js?1768892768 defer></script></body></html>