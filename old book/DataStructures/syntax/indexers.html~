<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>

<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>Indexers</title>
<link rel=STYLESHEET href="/~rhowell/style.css">

</head>

<body>
<div class="NAVBAR">
<a
      href="/~rhowell/DataStructures/redirect/hash-table-enumerator">Previous:
      Enumerating a Hash Table
      </a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a
      href="/~rhowell/DataStructures/redirect/hash-table-impl">Up:
      Implementing a Hash Table
      </a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a
      href="/~rhowell/DataStructures/">Top</a>
</div>

<h1>Indexers</h1>

Recall that the
    <b>System.Collections.Generic.Dictionary&lt;TKey,&nbsp;TValue&gt;</b>
    class (see "<a
    href="/~rhowell/DataStructures/redirect/dictionary-class">The
    <b>Dictionary&lt;TKey,&nbsp;TValue&gt;</b> Class</a>") allows keys
    to be used as indices for the purpose of adding new keys and
    values, changing the value associated with a key, and retrieving
    the value associated with a key in the table.  In this section, we
    will discuss how to implement this functionality.
<p>
An indexer in C# is defined using the following syntax:
</p>
<pre>
public TValue this[TKey k]
{
    get
    {
        // Code to retrieve the value with key k
    }
    set
    {
        // Code to associate the given value with key k
    }
}
</pre>
Note the resemblance of the above code to the definition of a
    property.  The biggest differences are:
<ul>
<li> In place of a property name, an indexer uses the keyword
	<b>this</b>.</li>
<li> The keyword <b>this</b> is followed by a nonempty parameter list
	enclosed in square brackets.</li>
</ul>
Thus, an indexer is like a property with parameters.  The parameters
    are the indices themselves; i.e., if <tt>d</tt> is a
    <b>Dictionary&lt;TKey,&nbsp;TValue&gt;</b> and <tt>key</tt> is a
    <b>TKey</b>, <tt>d[key]</tt> invokes the indexer with parameter
    <tt>key</tt>.  In general, either the getter or the setter may be
    omitted, but at least one of them must be included.  As in a
    property definition, the setter can use the keyword <b>value</b>
    for the value being assigned - in this case, the value to be
    associated with the given key.  The <b>value</b> keyword and the
    return type of the getter will both be of type <b>TValue</b>, the
    type given prior to the keyword <b>this</b> in the above code.
<p>
We want to implement the indexer to behave in the same way as the
      indexer for
      <b>System.Collections.Generic.Dictionary&lt;TKey,&nbsp;TValue&gt;</b>.
      Thus, the getter is similar to the <b>TryGetValue</b> method, as
      outlined in "<a
      href="/~rhowell/DataStructures/redirect/simple-hash-table-impl">A
      Simple Hash Table Implementation</a>",
      with a few important differences.  First, the getter has no
      <b>out</b> parameter.  Instead, it returns the value that
      <b>TryGetValue</b> assigns to its <b>out</b> parameter when the
      key is found.  When the key is not found, because it can't
      return a <b>bool</b> to indicate this, it instead throws a
      <b>KeyNotFoundException</b>.
</p>
Likewise, the setter is similar to the <b>Add</b> method, as outlined
    in "<a
    href="/~rhowell/DataStructures/redirect/simple-hash-table-impl">A
    Simple Hash Table Implementation</a>".  However, whereas the
    <b>Add</b> method has a <b>TValue</b> parameter through which to
    pass the value to be associated with the given key, the setter
    gets this value from the <b>value</b> keyword.  Furthermore, we
    don't want the setter to throw an exception if the key is found.
    Instead, we want it to replace the <b>Data</b> of the cell
    containing this key with a new <b>KeyValuePair</b> containing the
    key with the new value.

<p></p>
<div class="NAVBAR">
<a
      href="/~rhowell/DataStructures/redirect/hash-table-enumerator">Previous:
      Enumerating a Hash Table
      </a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a
      href="/~rhowell/DataStructures/redirect/hash-table-impl">Up:
      Implementing a Hash Table
      </a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a
      href="/~rhowell/DataStructures/">Top</a>
</div>

<p>
<small>
<!-- hhmts start -->
Last modified: Sat Nov  8 07:28:44 CST 2014
<!-- hhmts end -->
</small>
</p>
<small>
    <i> &copy; Copyright 2014, <a
    href="/~rhowell/">Rod Howell</a>. All
    rights reserved.</i> 
</small>

<p></p>

<table border=0 cellpadding=2 summary="This table is used for layout
purposes only.">
<tr>
<td align=center>
    <a href="http://validator.w3.org/check/referer"><img border="0"
        src="/~rhowell/valid-html401.gif"
        alt="Valid HTML 4.01!" height="31" width="88"></a>
</td>
<tr>
<td>
<a href="http://jigsaw.w3.org/css-validator/check/referer">
             <img border="0"
                  src="/~howell/vcss.gif" 
                  alt="Valid CSS!" height="31" width="88">
            </a>
</td>
</table>

</body>

</html>
