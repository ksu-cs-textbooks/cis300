<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.128.0"><meta name=generator content="Relearn 6.0.0"><meta name=robots content="noindex, nofollow, noarchive, noimageindex"><meta name=description content="The Debugger In previous sections, we discussed how a Windows Forms Application can be built using Visual Studio. Having built an application, we need to be able to run and test it. To do this, we use the Visual Studio Debugger. When an application is loaded into Visual Studio, we can invoke the debugger by clicking the “Start Debugging” button near the top:
When the debugger starts, it attempts to do the following things:"><meta name=author content="Rod Howell and Josh Weese"><meta name=twitter:card content="summary"><meta name=twitter:title content="The Debugger :: Data Structures in C#"><meta name=twitter:description content="The Debugger In previous sections, we discussed how a Windows Forms Application can be built using Visual Studio. Having built an application, we need to be able to run and test it. To do this, we use the Visual Studio Debugger. When an application is loaded into Visual Studio, we can invoke the debugger by clicking the “Start Debugging” button near the top:
When the debugger starts, it attempts to do the following things:"><meta property="og:url" content="https://textbooks.cs.ksu.edu/cis300/appendix/vs/debugger/embed.html"><meta property="og:site_name" content="Data Structures in C#"><meta property="og:title" content="The Debugger :: Data Structures in C#"><meta property="og:description" content="The Debugger In previous sections, we discussed how a Windows Forms Application can be built using Visual Studio. Having built an application, we need to be able to run and test it. To do this, we use the Visual Studio Debugger. When an application is loaded into Visual Studio, we can invoke the debugger by clicking the “Start Debugging” button near the top:
When the debugger starts, it attempts to do the following things:"><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="Appendices"><meta property="article:modified_time" content="2023-05-26T11:37:22-05:00"><meta itemprop=name content="The Debugger :: Data Structures in C#"><meta itemprop=description content="The Debugger In previous sections, we discussed how a Windows Forms Application can be built using Visual Studio. Having built an application, we need to be able to run and test it. To do this, we use the Visual Studio Debugger. When an application is loaded into Visual Studio, we can invoke the debugger by clicking the “Start Debugging” button near the top:
When the debugger starts, it attempts to do the following things:"><meta itemprop=dateModified content="2023-05-26T11:37:22-05:00"><meta itemprop=wordCount content="1886"><title>The Debugger :: Data Structures in C#</title>
<link href=/cis300/css/fontawesome-all.min.css?1737134823 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis300/css/fontawesome-all.min.css?1737134823 rel=stylesheet></noscript><link href=/cis300/css/nucleus.css?1737134823 rel=stylesheet><link href=/cis300/css/auto-complete.css?1737134823 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis300/css/auto-complete.css?1737134823 rel=stylesheet></noscript><link href=/cis300/css/perfect-scrollbar.min.css?1737134823 rel=stylesheet><link href=/cis300/css/fonts.css?1737134823 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis300/css/fonts.css?1737134823 rel=stylesheet></noscript><link href=/cis300/css/theme.css?1737134823 rel=stylesheet><link href=/cis300/css/theme-light-theme.css?1737134823 rel=stylesheet id=R-variant-style><link href=/cis300/css/chroma-relearn-light.css?1737134823 rel=stylesheet id=R-variant-chroma-style><link href=/cis300/css/variant.css?1737134823 rel=stylesheet><link href=/cis300/css/print.css?1737134823 rel=stylesheet media=print><script>window.relearn=window.relearn||{},window.relearn.relBasePath="../../..",window.relearn.relBaseUri="../../../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cis300",window.index_js_url="/cis300/index.search.js",window.variants&&variants.init(["light-theme"]),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><link href=/cis300/css/custom.css?1737134823 rel=stylesheet></head><body class="mobile-support embed disableInlineCopyToClipboard" data-url=/cis300/appendix/vs/debugger/embed.html><div id=R-body class=default-animation><div id=R-body-overlay></div><div id=R-main-overlay></div><main id=R-body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><h2 id=the-debugger>The Debugger</h2><p>In previous sections, we discussed how a Windows Forms Application can be built using Visual Studio. Having built an application, we need to be able to run and test it. To do this, we use the Visual Studio Debugger. When an application is loaded into Visual Studio, we can invoke the debugger by clicking the &ldquo;Start Debugging&rdquo; button near the top:</p><p><img src=start-button.jpg alt="A picture of part of a Visual Studio Window should appear
here." style=zoom:67%></p><p>When the debugger starts, it attempts to do the following things:</p><ul><li>Save any unsaved files.</li><li>Compile the source code into executable code.</li><li>Run the compiled code as an application.</li></ul><p>If everything works correctly, the application is complete. Rarely, however, does everything work correctly the first time. Through the remainder of this section, we will discuss some of the ways the debugger can be used to find and fix errors.</p><p>One of the problems that can occur is that the compiler can fail to produce executable code because the source code contains syntax errors. When this happens, the following dialog is displayed:</p><p><a href=#R-image-ad3c568133a1f9e0817b0ef51528852b class=lightbox-link><img alt="A picture of a dialog should appear here." class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis300/appendix/vs/debugger/syntax-error-dialog.jpg style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-ad3c568133a1f9e0817b0ef51528852b><img alt="A picture of a dialog should appear here." class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis300/appendix/vs/debugger/syntax-error-dialog.jpg></a></p><p>Usually the best thing to do at this point is to click the &ldquo;No&rdquo; button. This will stop the debugger and display the error list. This error list can be displayed at any time by clicking the error list button at the bottom of the Visual Studio window:</p><img src=error-list.png alt="The error list button." style=zoom:50%><p>Double-clicking on a syntax error within the error list will highlight the error in the code window. Normally, fixing the error will cause the corresponding entry in the error list to disappear; however, there are times when the entry won&rsquo;t disappear until the debugger is started again (i.e., by clicking the &ldquo;Start Debugging&rdquo; button).</p><p>Once the syntax errors are removed, the debugger will be able to generate executable code and run it. However, more problems can occur at this point. One common problem is that an exception is thrown. For example, the GitHub repository created by <a href=https://classroom.github.com/a/a9s4MdIv rel=external target=_blank>this invitation link</a> (see &ldquo;<a href=/cis300/appendix/vs/repos/>Git Repositories</a>&rdquo;) contains a Visual Studio solution for a program to convert decimal numbers to base-16. Don&rsquo;t worry about understanding the code, although the numerous comments may help you to do that. Instead, note that an exception is thrown when we try to convert 256:</p><p><a href=#R-image-0e333d7fa710af763c64fa64167cdbcc class=lightbox-link><img alt="A picture of a window should appear here." class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis300/appendix/vs/debugger/exception.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-0e333d7fa710af763c64fa64167cdbcc><img alt="A picture of a window should appear here." class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis300/appendix/vs/debugger/exception.png></a></p><p>This message gives us quite a bit of information already. First, it tells us which line threw the exception - the line highlighted in green. The arrow in the left margin tells us the same thing, but more generally, when the debugger is running, it indicates the line that is currently being executed or that is ready to be executed. The popup window indicates what kind of exception was thrown: an <strong>ArgumentOutOfRangeException</strong>. It also provides the additional information that a length was less than zero when it should not have been.</p><p>Having this information, we can now use the debugger to investigate further the cause of the exception. First, in order to see the code more clearly, we might want to close the popup window (we can always get it back by clicking the red circle containing the white &lsquo;X&rsquo;). We can now examine the values of any of the variables at the time the exception was thrown by hovering the mouse over them. For example, if we hover over <code>lowOrder</code>, a popup appears indicating that it has a value of &ldquo;0&rdquo;. If we move the mouse to hover over its <strong>Length</strong> property, we can see that it has a value of 1. Hovering over <code>power</code> shows that it has a value of 2. Thus, we can see that the exception was thrown because we gave the <strong>Substring</strong> method a length of 1 - 2 = -1. This can be confirmed by hovering the mouse over the &ldquo;-&rdquo; in the expression - the popup indicates that the value of the expression is, in fact, -1.</p><p>Actually fixing the error requires a little more understanding of the code. In this case, however, the comment immediately above the line in question helps us out. It tells us that the low-order part of the hex string we are building may need to be padded with 0s - this padding is what we are constructing. Furthermore, it tells us that the number of hex digits we need is the value of <code>power</code>. In order to get this many digits, we need to subtract the number of hex digits we already have in <code>lowOrder</code> from <code>power</code>; i.e., we need to reverse the order of the subtraction.</p><p><a name=debugger-buttons></a>To stop the debugger, notice the buttons that are available at the top of the Visual Studio window while the debugger is running:</p><img src=debugger-buttons.png alt="Buttons used within the debugger." style=zoom:50%><p>As you might guess, the &ldquo;Stop&rdquo; button stops the debugger. In what follows, we will discuss each of the other buttons indicated in the above figure, as well as other features of the debugger.</p><p><a name=breakpoints></a>When debugging code, it is often useful to be able to pause execution at a particular place in order to be able to examine the values of variables as we did above. To accomplish this, we can set a <em>breakpoint</em> by clicking in the left margin of the code window at the line where we would like execution to pause. This places a large red dot in the margin where we clicked and colors the line red:</p><p><a href=#R-image-cc5a1d39820695e29c23cae548820157 class=lightbox-link><img alt="A picture of part of a code window should appear here." class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis300/appendix/vs/debugger/breakpoint.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-cc5a1d39820695e29c23cae548820157><img alt="A picture of part of a code window should appear here." class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis300/appendix/vs/debugger/breakpoint.png></a></p><p>Whenever execution reaches a breakpoint, execution stops prior to executing that line. At this point, we can examine the values of variables as we described above. When we are ready to continue execution of the program, we click the &ldquo;Continue&rdquo; button. A breakpoint can be deleted by clicking on the red dot, or all breakpoints may be deleted by selecting &ldquo;Delete All Breakpoints&rdquo; from the &ldquo;Debug&rdquo; menu. A breakpoint may be disabled, but not deleted, by hovering over the large red dot and selecting &ldquo;Disable&rdquo; from the resulting popup. All breakpoints may be disabled by selecting &ldquo;Disable All Breakpoints&rdquo; from the &ldquo;Debug&rdquo; menu.</p><p>Sometimes we only want the execution to pause at a breakpoint when a certain condition is met. Such a situation might occur if we have a bug that only surfaces after the code containing it has already executed many times. Rather than letting the program stop and clicking &ldquo;Continue&rdquo; until we reach the point we are interested in, we can instead specify a condition on the breakpoint. To do this, right-click on the breakpoint in the left margin, and select &ldquo;Conditions&mldr;&rdquo; from the resulting popup menu. This causes a large box to be inserted into to the code below this line:</p><p><a href=#R-image-68be1a072b7f8b21c8ef558e6fb8d6dd class=lightbox-link><img alt="A picture of a Visual Studio window should appear here." class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis300/appendix/vs/debugger/breakpoint-condition.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-68be1a072b7f8b21c8ef558e6fb8d6dd><img alt="A picture of a Visual Studio window should appear here." class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis300/appendix/vs/debugger/breakpoint-condition.png></a></p><p>In this box, we can type an expression using variables visible at that program location. We can also choose whether we want execution to pause when that expression is true or whenever that expression has changed.</p><p>For example, we could add to the above breakpoint the condition:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-C# data-lang=C#><span class=line><span class=cl><span class=n>power</span> <span class=p>==</span> <span class=m>8</span></span></span></code></pre></div><p>Then when we run the debugger, execution will only pause at this breakpoint when <code>power</code> reaches a value of 8. Note that this line is executed at the top of each iteration of the loop; hence, the breakpoint condition is checked on each iteration.</p><p>While hovering the mouse over variable names is a useful way to
discover their current values, there are other mechanisms for doing
this as well. For example, while the debugger is paused, you can go to
the &ldquo;Debug&rdquo; menu and select &ldquo;Windows -> Locals&rdquo;. This will open a window displaying all of the local variables for the current method, property, or constructor, together with their current values. If the debugger is paused within a constructor or a non-<strong>static</strong> method or property, this window also contains <strong>this</strong>, which refers to the object that contains the constructor, method, or property. From <strong>this</strong>, you can access the non-<strong>static</strong> fields of this object.</p><p>Another mechanism for examining values of variables is through the &ldquo;Immediate&rdquo; window, which can also be accessed from the &ldquo;Debug&rdquo; menu via its &ldquo;Windows&rdquo; sub-menu. Within the Immediate window, you may type an expression involving the variables that are currently visible, press &ldquo;Enter&rdquo;, and it will display the value of that expression. This can be particularly useful when you have a large data structure, and you need to know a particular element in that structure. For example, suppose <code>array</code> is a large <strong>int[ ]</strong>, and suppose <code>i</code> is an <strong>int</strong>. Using the &ldquo;Locals&rdquo; window, it might be rather tedious to find the value of <code>array[i]</code>. Using the Immediate window, however, you can just type in</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-C# data-lang=C#><span class=line><span class=cl><span class=n>array</span><span class=p>[</span><span class=n>i</span><span class=p>]</span></span></span></code></pre></div><p>and it will display its value.</p><p>When debugging, it is often useful to be able to step through the
execution of a piece of code so that you can see exactly what it is
doing. Three buttons are available for this purpose: &ldquo;Step Into&rdquo;,
&ldquo;Step Over&rdquo;, and &ldquo;Step Out&rdquo;. Suppose we were to run the code in the
GitHub repository provided above with the (unconditional) breakpoint shown in the above picture, and suppose we were to enter the value, 12345. Execution will then pause at this breakpoint with <code>divisor</code> equal to 16 and <code>power</code> equal to 1. Clicking either the &ldquo;Step Into&rdquo; button or the &ldquo;Step Over&rdquo; button will cause the debugger to evaluate the loop condition and, because its value is <strong>true</strong>, advance to the &ldquo;{&rdquo; on the next line. We may continue to walk through the execution a step at a time using either of these buttons - as long as we are in this loop, they will have the same effect. If the Locals window is open, whenever a variable changes value, this value will be shown in red.</p><p>After one iteration, the loop will terminate, and execution will reach the line where <code>highOrder</code> is defined. At this point, the functionality of the &ldquo;Step Into&rdquo; and &ldquo;Step Over&rdquo; buttons becomes different because this line contains a method call. The &ldquo;Step Over&rdquo; button will cause execution to run normally through the method call, and pause again as soon as the method call returns (however, because this is a recursive call, if the breakpoint is still set, execution will pause when it reaches the breakpoint within the recursive call). Thus, we can see the net effect of this method call without having to walk through it a step at a time. On the other hand, we might want to step through it in order to see what it is doing. We can do this using the &ldquo;Step Into&rdquo; button. If at some point we want to finish executing the method we are in, but pause after it returns, we can click the &ldquo;Step Out&rdquo; button.</p><p>When stepping through code, a &ldquo;Watch&rdquo; window is often a convenient way
to keep track of the value of one or more specific variables and/or
expressions. You can open a Watch window from the &ldquo;Debug&rdquo; menu under
&ldquo;Windows -> Watch&rdquo; &mdash; the four choices here are four different Watch windows that you may use (perhaps for debugging different parts of your program). A Watch window combines some of the advantages of the Locals window and the Immediate window. If you type in a value or expression, it will appear in the &ldquo;Name&rdquo; column, and if it can be evaluated in the current context, its value will be displayed in the &ldquo;Value&rdquo; column. Furthermore the value will be updated as the debugger executes code. You may list several values or expressions in the same Watch window, and their values will all be tracked. To delete an entry from a Watch window, right-click on it and select &ldquo;Delete Watch&rdquo;.</p><footer class=footline></footer></article></div></main></div><script src=/cis300/js/clipboard.min.js?1737134823 defer></script><script src=/cis300/js/perfect-scrollbar.min.js?1737134823 defer></script><script src=/cis300/js/theme.js?1737134823 defer></script><script src=/cis300/js/embed-iframe.js?1737134823 defer></script></body></html>