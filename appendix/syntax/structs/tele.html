<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.128.0"><meta name=generator content="Relearn 6.0.0"><meta name=robots content="noindex, nofollow, noarchive, noimageindex"><meta name=description content="Structures A structure is similar to a class, except that it is a value type, whereas a class is a reference type. A structure definition looks a lot like a class definition; for example, the following defines a structure for storing information associated with a name:
/// <summary> /// Stores a frequency and a rank. /// </summary> public readonly struct FrequencyAndRank { /// <summary> /// Gets the Frequency. /// </summary> public float Frequency { get; } /// <summary> /// Gets the Rank."><meta name=author content="Rod Howell and Josh Weese"><meta name=twitter:card content="summary"><meta name=twitter:title content="Structures :: Data Structures in C#"><meta name=twitter:description content="Structures A structure is similar to a class, except that it is a value type, whereas a class is a reference type. A structure definition looks a lot like a class definition; for example, the following defines a structure for storing information associated with a name:
/// <summary> /// Stores a frequency and a rank. /// </summary> public readonly struct FrequencyAndRank { /// <summary> /// Gets the Frequency. /// </summary> public float Frequency { get; } /// <summary> /// Gets the Rank."><meta property="og:url" content="https://textbooks.cs.ksu.edu/cis300/appendix/syntax/structs/"><meta property="og:site_name" content="Data Structures in C#"><meta property="og:title" content="Structures :: Data Structures in C#"><meta property="og:description" content="Structures A structure is similar to a class, except that it is a value type, whereas a class is a reference type. A structure definition looks a lot like a class definition; for example, the following defines a structure for storing information associated with a name:
/// <summary> /// Stores a frequency and a rank. /// </summary> public readonly struct FrequencyAndRank { /// <summary> /// Gets the Frequency. /// </summary> public float Frequency { get; } /// <summary> /// Gets the Rank."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="Appendices"><meta property="article:modified_time" content="2023-05-29T14:01:30-05:00"><meta itemprop=name content="Structures :: Data Structures in C#"><meta itemprop=description content="Structures A structure is similar to a class, except that it is a value type, whereas a class is a reference type. A structure definition looks a lot like a class definition; for example, the following defines a structure for storing information associated with a name:
/// <summary> /// Stores a frequency and a rank. /// </summary> public readonly struct FrequencyAndRank { /// <summary> /// Gets the Frequency. /// </summary> public float Frequency { get; } /// <summary> /// Gets the Rank."><meta itemprop=dateModified content="2023-05-29T14:01:30-05:00"><meta itemprop=wordCount content="676"><title>Structures :: Data Structures in C#</title>
<link href=/cis300/css/fontawesome-all.min.css?1719513824 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis300/css/fontawesome-all.min.css?1719513824 rel=stylesheet></noscript><link href=/cis300/css/nucleus.css?1719513824 rel=stylesheet><link href=/cis300/css/auto-complete.css?1719513824 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis300/css/auto-complete.css?1719513824 rel=stylesheet></noscript><link href=/cis300/css/perfect-scrollbar.min.css?1719513824 rel=stylesheet><link href=/cis300/css/fonts.css?1719513824 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis300/css/fonts.css?1719513824 rel=stylesheet></noscript><link href=/cis300/css/theme.css?1719513824 rel=stylesheet><link href=/cis300/css/theme-auto.css?1719513824 rel=stylesheet id=R-variant-style><link href=/cis300/css/chroma-auto.css?1719513824 rel=stylesheet id=R-variant-chroma-style><link href=/cis300/css/variant.css?1719513824 rel=stylesheet><link href=/cis300/css/print.css?1719513824 rel=stylesheet media=print><script src=/cis300/js/variant.js?1719513824></script><script>window.relearn=window.relearn||{},window.relearn.relBasePath="../../..",window.relearn.relBaseUri="../../../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cis300",window.index_js_url="/cis300/index.search.js",window.variants&&variants.init(["auto","light-theme","dark-theme"]),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><link href=/cis300/css/custom.css?1719513824 rel=stylesheet></head><body class="mobile-support tele disableInlineCopyToClipboard" data-url=/cis300/appendix/syntax/structs/><div id=tele class="tele mirror"><div id=R-body class=default-animation><div id=R-body-overlay></div><div id=R-main-overlay></div><main id=R-body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><div hidden><h1 id=structures>Structures</h1></div><h2 id=structures>Structures</h2><p>A structure is similar to a class, except that it is a <a href=/cis300/appendix/syntax/reference-value/>value type</a>, whereas a class is a <a href=/cis300/appendix/syntax/reference-value/>reference type</a>. A structure definition looks a lot like a class definition; for example, the following defines a structure for storing information associated with a name:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-c# data-lang=c#><span class=line><span class=cl><span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl><span class=cs>/// Stores a frequency and a rank.</span>
</span></span><span class=line><span class=cl><span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=k>readonly</span> <span class=k>struct</span> <span class=nc>FrequencyAndRank</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// Gets the Frequency.</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>float</span> <span class=n>Frequency</span> <span class=p>{</span> <span class=k>get</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// Gets the Rank.</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span> <span class=n>Rank</span> <span class=p>{</span> <span class=k>get</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// Initializes a FrequencyAndRank with the given values.</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;param name=&#34;freq&#34;&gt;The frequency.&lt;/param&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;param name=&#34;rank&#34;&gt;The rank.&lt;/param&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>FrequencyAndRank</span><span class=p>(</span><span class=kt>float</span> <span class=n>freq</span><span class=p>,</span> <span class=kt>int</span> <span class=n>rank</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>Frequency</span> <span class=p>=</span> <span class=n>freq</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>Rank</span> <span class=p>=</span> <span class=n>rank</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// Obtains a string representation of the frequency and rank.</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;returns&gt;The string representation.&lt;/returns&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>override</span> <span class=kt>string</span> <span class=n>ToString</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>Frequency</span> <span class=p>+</span> <span class=s>&#34;, &#34;</span> <span class=p>+</span> <span class=n>Rank</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>Note that the above definition looks just like a class definition, except that the keyword <strong>struct</strong> is used instead of the keyword <strong>class</strong>, and the <strong>readonly</strong> modifier is used. The <strong>readonly</strong> modifier cannot be used with a class definition, but is often used with a structure definition to indicate that the structure is <em>immutable</em>. The compiler then verifies that the structure definition does not allow any fields to be changed; for example, it verifies that no property has a <strong>set</strong> accessor.</p><p>A structure can be defined anywhere a class can be defined. However, one important restriction on a structure definition is that no field can be of the same type as the structure itself. For example, the following definition is not allowed:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-c# data-lang=c#><span class=line><span class=cl><span class=kd>public</span> <span class=k>struct</span> <span class=nc>S</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>S</span> <span class=n>_nextS</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>The reason for this restriction is that because a structure is a value type, each instance would need to contain enough space for another instance of the same type, and this instance would need enough space for another instance, and so on forever. This type of circular definition is prohibited even if it is indirect; for example, the following is also illegal:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-C# data-lang=C#><span class=line><span class=cl><span class=kd>public</span> <span class=k>struct</span> <span class=nc>S</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>T</span> <span class=n>NextT</span> <span class=p>{</span> <span class=k>get</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=k>struct</span> <span class=nc>T</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>S</span><span class=p>?</span> <span class=n>NextS</span> <span class=p>{</span> <span class=k>get</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>Because the <strong>NextT</strong> <a href=/cis300/appendix/syntax/properties/>property</a> uses the default implementation, each instance of <strong>S</strong> contains a hidden field of type <strong>T</strong>. Because <strong>T</strong> is a value type, each instance of <strong>S</strong> needs enough space to store an instance of <strong>T</strong>. Likewise, because the <strong>NextS</strong> property uses the default implementation, each instance of <strong>T</strong> contains a hidden field of type <strong>S?</strong>. Because <strong>S</strong> is a value type, each instance of <strong>T</strong> - and hence each instance of <strong>S</strong> - needs enough space to store an instance of <strong>S?</strong>, which in turn needs enough space to store an instance of <strong>S</strong>. Again, this results in circularity that is impossible to satisfy.</p><p>Any structure must have a constructor that takes no parameters. If one is not explicitly provided, a default constructor containing no statements is included. If one is explicitly provided, it must be <strong>public</strong>. Thus, an instance of a structure can always be constructed using a no-parameter constructor. If no code for such a constructor is provided, each field that does not contain an initializer is set to its default value.</p><p>If a variable of a structure type is assigned its <a href=/cis300/stacks-queues/stack-impl/#default-value>default value</a>, each of its fields is set to its default value, regardless of any initializers in the structure definition. For example, if <strong>FrequencyAndRank</strong> is defined as above, then the following statement will set both <code>x.Frequency</code> and <code>x.Rank</code> to 0:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-C# data-lang=C#><span class=line><span class=cl><span class=n>FrequencyAndRank</span> <span class=n>x</span> <span class=p>=</span> <span class=k>default</span><span class=p>;</span></span></span></code></pre></div><div class="box notices cstyle warning"><div class=box-label><i class="fa-fw fas fa-exclamation-triangle"></i> Warning</div><div class=box-content><p>Because the default value of a type can always be assigned to a variable of that type, care should be taken when including fields of reference types within a structure definition. Because the default instance of this structure will contain <strong>null</strong> values for all fields of reference types, these fields should be defined to be <a href=/cis300/appendix/syntax/reference-value/#nullable-types>nullable</a>. The compiler provides no warnings about this.</p></div></div><p>For more information on structures, see the section, <a href=https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/struct rel=external target=_blank>&ldquo;Structure types&rdquo;</a> in the <em>C# Language Reference</em>.</p><footer class=footline></footer></article></div></main></div></div><script src=/cis300/js/clipboard.min.js?1719513824 defer></script><script src=/cis300/js/perfect-scrollbar.min.js?1719513824 defer></script><script src=/cis300/js/theme.js?1719513824 defer></script><script src=/cis300/js/tele-scroll.js?1719513824 defer></script></body></html>