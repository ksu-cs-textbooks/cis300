<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article data-r-output-format=print><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.148.1"><meta name=generator content="Relearn 8.0.0"><meta name=description content='Structures A structure is similar to a class, except that it is a value type, whereas a class is a reference type. A structure definition looks a lot like a class definition; for example, the following defines a structure for storing information associated with a name:
/// <summary> /// Stores a frequency and a rank. /// </summary> public readonly struct FrequencyAndRank { /// <summary> /// Gets the Frequency. /// </summary> public float Frequency { get; } /// <summary> /// Gets the Rank. /// </summary> public int Rank { get; } /// <summary> /// Initializes a FrequencyAndRank with the given values. /// </summary> /// <param name="freq">The frequency.</param> /// <param name="rank">The rank.</param> public FrequencyAndRank(float freq, int rank) { Frequency = freq; Rank = rank; } /// <summary> /// Obtains a string representation of the frequency and rank. /// </summary> /// <returns>The string representation.</returns> public override string ToString() { return Frequency + ", " + Rank; } } Note that the above definition looks just like a class definition, except that the keyword struct is used instead of the keyword class, and the readonly modifier is used. The readonly modifier cannot be used with a class definition, but is often used with a structure definition to indicate that the structure is immutable. The compiler then verifies that the structure definition does not allow any fields to be changed; for example, it verifies that no property has a set accessor.'><meta name=author content="Rod Howell and Josh Weese"><meta name=twitter:card content="summary"><meta name=twitter:title content="Structures :: Data Structures in C#"><meta name=twitter:description content='Structures A structure is similar to a class, except that it is a value type, whereas a class is a reference type. A structure definition looks a lot like a class definition; for example, the following defines a structure for storing information associated with a name:
/// <summary> /// Stores a frequency and a rank. /// </summary> public readonly struct FrequencyAndRank { /// <summary> /// Gets the Frequency. /// </summary> public float Frequency { get; } /// <summary> /// Gets the Rank. /// </summary> public int Rank { get; } /// <summary> /// Initializes a FrequencyAndRank with the given values. /// </summary> /// <param name="freq">The frequency.</param> /// <param name="rank">The rank.</param> public FrequencyAndRank(float freq, int rank) { Frequency = freq; Rank = rank; } /// <summary> /// Obtains a string representation of the frequency and rank. /// </summary> /// <returns>The string representation.</returns> public override string ToString() { return Frequency + ", " + Rank; } } Note that the above definition looks just like a class definition, except that the keyword struct is used instead of the keyword class, and the readonly modifier is used. The readonly modifier cannot be used with a class definition, but is often used with a structure definition to indicate that the structure is immutable. The compiler then verifies that the structure definition does not allow any fields to be changed; for example, it verifies that no property has a set accessor.'><meta property="og:url" content="https://textbooks.cs.ksu.edu/cis300/appendix/syntax/structs/"><meta property="og:site_name" content="Data Structures in C#"><meta property="og:title" content="Structures :: Data Structures in C#"><meta property="og:description" content='Structures A structure is similar to a class, except that it is a value type, whereas a class is a reference type. A structure definition looks a lot like a class definition; for example, the following defines a structure for storing information associated with a name:
/// <summary> /// Stores a frequency and a rank. /// </summary> public readonly struct FrequencyAndRank { /// <summary> /// Gets the Frequency. /// </summary> public float Frequency { get; } /// <summary> /// Gets the Rank. /// </summary> public int Rank { get; } /// <summary> /// Initializes a FrequencyAndRank with the given values. /// </summary> /// <param name="freq">The frequency.</param> /// <param name="rank">The rank.</param> public FrequencyAndRank(float freq, int rank) { Frequency = freq; Rank = rank; } /// <summary> /// Obtains a string representation of the frequency and rank. /// </summary> /// <returns>The string representation.</returns> public override string ToString() { return Frequency + ", " + Rank; } } Note that the above definition looks just like a class definition, except that the keyword struct is used instead of the keyword class, and the readonly modifier is used. The readonly modifier cannot be used with a class definition, but is often used with a structure definition to indicate that the structure is immutable. The compiler then verifies that the structure definition does not allow any fields to be changed; for example, it verifies that no property has a set accessor.'><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="Appendices"><meta property="article:modified_time" content="2023-05-29T14:01:30-05:00"><meta itemprop=name content="Structures :: Data Structures in C#"><meta itemprop=description content='Structures A structure is similar to a class, except that it is a value type, whereas a class is a reference type. A structure definition looks a lot like a class definition; for example, the following defines a structure for storing information associated with a name:
/// <summary> /// Stores a frequency and a rank. /// </summary> public readonly struct FrequencyAndRank { /// <summary> /// Gets the Frequency. /// </summary> public float Frequency { get; } /// <summary> /// Gets the Rank. /// </summary> public int Rank { get; } /// <summary> /// Initializes a FrequencyAndRank with the given values. /// </summary> /// <param name="freq">The frequency.</param> /// <param name="rank">The rank.</param> public FrequencyAndRank(float freq, int rank) { Frequency = freq; Rank = rank; } /// <summary> /// Obtains a string representation of the frequency and rank. /// </summary> /// <returns>The string representation.</returns> public override string ToString() { return Frequency + ", " + Rank; } } Note that the above definition looks just like a class definition, except that the keyword struct is used instead of the keyword class, and the readonly modifier is used. The readonly modifier cannot be used with a class definition, but is often used with a structure definition to indicate that the structure is immutable. The compiler then verifies that the structure definition does not allow any fields to be changed; for example, it verifies that no property has a set accessor.'><meta itemprop=dateModified content="2023-05-29T14:01:30-05:00"><meta itemprop=wordCount content="679"><title>Structures :: Data Structures in C#</title><link href=https://textbooks.cs.ksu.edu/cis300/appendix/syntax/structs/ rel=canonical type=text/html title="Structures :: Data Structures in C#"><link href=/cis300/appendix/syntax/structs/index.xml rel=alternate type=application/rss+xml title="Structures :: Data Structures in C#"><link href=/cis300/appendix/syntax/structs/tele.html rel=alternate type=text/html title="Structures :: Data Structures in C#"><link href=/cis300/appendix/syntax/structs/embed.html rel=alternate type=text/html title="Structures :: Data Structures in C#"><link href=/cis300/css/auto-complete/auto-complete.min.css?1769099586 rel=stylesheet><script src=/cis300/js/auto-complete/auto-complete.min.js?1769099586 defer></script><script src=/cis300/js/search-lunr.min.js?1769099586 defer></script><script src=/cis300/js/search.min.js?1769099586 defer></script><script>window.relearn=window.relearn||{},window.relearn.index_js_url="/cis300/searchindex.en.js?1769099586"</script><script src=/cis300/js/lunr/lunr.min.js?1769099586 defer></script><script src=/cis300/js/lunr/lunr.stemmer.support.min.js?1769099586 defer></script><script src=/cis300/js/lunr/lunr.multi.min.js?1769099586 defer></script><script src=/cis300/js/lunr/lunr.en.min.js?1769099586 defer></script><script>window.relearn=window.relearn||{},window.relearn.contentLangs=["en"]</script><link href=/cis300/fonts/fontawesome/css/fontawesome-all.min.css?1769099586 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis300/fonts/fontawesome/css/fontawesome-all.min.css?1769099586 rel=stylesheet></noscript><link href=/cis300/css/perfect-scrollbar/perfect-scrollbar.min.css?1769099586 rel=stylesheet><link href=/cis300/css/theme.min.css?1769099586 rel=stylesheet><link href=/cis300/css/format-print.min.css?1769099586 rel=stylesheet id=R-format-style><script>window.relearn=window.relearn||{},window.relearn.min=`.min`,window.relearn.path="/appendix/syntax/structs/",window.relearn.relBasePath="../../..",window.relearn.relBaseUri="../../../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cis300",window.relearn.disableAnchorCopy=!1,window.relearn.disableAnchorScrolling=!1,window.relearn.disableInlineCopyToClipboard=!0,window.relearn.enableBlockCodeWrap=!1,window.relearn.getItem=(e,t)=>e.getItem(t),window.relearn.setItem=(e,t,n)=>e.setItem(t,n),window.relearn.removeItem=(e,t)=>e.removeItem(t),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`,window.relearn.themevariants=["light-theme"],window.relearn.customvariantname="my-custom-variant",window.relearn.writeVariant=!1,window.relearn.changeVariant=function(e){var t=document.documentElement.dataset.rThemeVariant;window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e),document.documentElement.dataset.rThemeVariant=e,t!=e&&(document.dispatchEvent(new CustomEvent("themeVariantLoaded",{detail:{variant:e,oldVariant:t}})),window.relearn.markVariant())},window.relearn.markVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant");document.querySelectorAll(".R-variantswitcher select").forEach(t=>{t.value=e})},window.relearn.initVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant")??"";e==window.relearn.customvariantname||(!e||!window.relearn.themevariants.includes(e))&&(e=window.relearn.themevariants[0],window.relearn.writeVariant&&window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e)),document.documentElement.dataset.rThemeVariant=e},window.relearn.initVariant(),window.relearn.markVariant()</script><link href=/cis300/css/custom.css?1769099586 rel=stylesheet></head><body class="mobile-support print" data-url=/cis300/appendix/syntax/structs/><div id=tele class="tele mirror"><div id=R-body class=default-animation><div id=R-body-overlay></div><div id=R-main-overlay></div><main id=R-body-inner class="highlightable appendix" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><div hidden><h1 id=structures>Structures</h1></div><h2 id=structures>Structures</h2><p>A structure is similar to a class, except that it is a <a href=/cis300/appendix/syntax/reference-value/>value type</a>, whereas a class is a <a href=/cis300/appendix/syntax/reference-value/>reference type</a>. A structure definition looks a lot like a class definition; for example, the following defines a structure for storing information associated with a name:</p><div class=highlight dir=auto><pre tabindex=0 class=chroma><code class=language-c# data-lang=c#><span class=line><span class=cl><span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl><span class=cs>/// Stores a frequency and a rank.</span>
</span></span><span class=line><span class=cl><span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=k>readonly</span> <span class=k>struct</span> <span class=nc>FrequencyAndRank</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// Gets the Frequency.</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>float</span> <span class=n>Frequency</span> <span class=p>{</span> <span class=k>get</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// Gets the Rank.</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span> <span class=n>Rank</span> <span class=p>{</span> <span class=k>get</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// Initializes a FrequencyAndRank with the given values.</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;param name=&#34;freq&#34;&gt;The frequency.&lt;/param&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;param name=&#34;rank&#34;&gt;The rank.&lt;/param&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>FrequencyAndRank</span><span class=p>(</span><span class=kt>float</span> <span class=n>freq</span><span class=p>,</span> <span class=kt>int</span> <span class=n>rank</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>Frequency</span> <span class=p>=</span> <span class=n>freq</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>Rank</span> <span class=p>=</span> <span class=n>rank</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// Obtains a string representation of the frequency and rank.</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;returns&gt;The string representation.&lt;/returns&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>override</span> <span class=kt>string</span> <span class=n>ToString</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>Frequency</span> <span class=p>+</span> <span class=s>&#34;, &#34;</span> <span class=p>+</span> <span class=n>Rank</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>Note that the above definition looks just like a class definition, except that the keyword <strong>struct</strong> is used instead of the keyword <strong>class</strong>, and the <strong>readonly</strong> modifier is used. The <strong>readonly</strong> modifier cannot be used with a class definition, but is often used with a structure definition to indicate that the structure is <em>immutable</em>. The compiler then verifies that the structure definition does not allow any fields to be changed; for example, it verifies that no property has a <strong>set</strong> accessor.</p><p>A structure can be defined anywhere a class can be defined. However, one important restriction on a structure definition is that no field can be of the same type as the structure itself. For example, the following definition is not allowed:</p><div class=highlight dir=auto><pre tabindex=0 class=chroma><code class=language-c# data-lang=c#><span class=line><span class=cl><span class=kd>public</span> <span class=k>struct</span> <span class=nc>S</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>S</span> <span class=n>_nextS</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>The reason for this restriction is that because a structure is a value type, each instance would need to contain enough space for another instance of the same type, and this instance would need enough space for another instance, and so on forever. This type of circular definition is prohibited even if it is indirect; for example, the following is also illegal:</p><div class=highlight dir=auto><pre tabindex=0 class=chroma><code class=language-C# data-lang=C#><span class=line><span class=cl><span class=kd>public</span> <span class=k>struct</span> <span class=nc>S</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>T</span> <span class=n>NextT</span> <span class=p>{</span> <span class=k>get</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=k>struct</span> <span class=nc>T</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>S</span><span class=p>?</span> <span class=n>NextS</span> <span class=p>{</span> <span class=k>get</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>Because the <strong>NextT</strong> <a href=/cis300/appendix/syntax/properties/>property</a> uses the default implementation, each instance of <strong>S</strong> contains a hidden field of type <strong>T</strong>. Because <strong>T</strong> is a value type, each instance of <strong>S</strong> needs enough space to store an instance of <strong>T</strong>. Likewise, because the <strong>NextS</strong> property uses the default implementation, each instance of <strong>T</strong> contains a hidden field of type <strong>S?</strong>. Because <strong>S</strong> is a value type, each instance of <strong>T</strong> - and hence each instance of <strong>S</strong> - needs enough space to store an instance of <strong>S?</strong>, which in turn needs enough space to store an instance of <strong>S</strong>. Again, this results in circularity that is impossible to satisfy.</p><p>Any structure must have a constructor that takes no parameters. If one is not explicitly provided, a default constructor containing no statements is included. If one is explicitly provided, it must be <strong>public</strong>. Thus, an instance of a structure can always be constructed using a no-parameter constructor. If no code for such a constructor is provided, each field that does not contain an initializer is set to its default value.</p><p>If a variable of a structure type is assigned its <a href=/cis300/stacks-queues/stack-impl/#default-value>default value</a>, each of its fields is set to its default value, regardless of any initializers in the structure definition. For example, if <strong>FrequencyAndRank</strong> is defined as above, then the following statement will set both <code>x.Frequency</code> and <code>x.Rank</code> to 0:</p><div class=highlight dir=auto><pre tabindex=0 class=chroma><code class=language-C# data-lang=C#><span class=line><span class=cl><span class=n>FrequencyAndRank</span> <span class=n>x</span> <span class=p>=</span> <span class=k>default</span><span class=p>;</span></span></span></code></pre></div><details open class="box cstyle notices warning"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-exclamation-triangle"></i>
Warning</summary><div class=box-content><p>Because the default value of a type can always be assigned to a variable of that type, care should be taken when including fields of reference types within a structure definition. Because the default instance of this structure will contain <strong>null</strong> values for all fields of reference types, these fields should be defined to be <a href=/cis300/appendix/syntax/reference-value/#nullable-types>nullable</a>. The compiler provides no warnings about this.</p></div></details><p>For more information on structures, see the section, <a href=https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/struct rel=external target=_blank>&ldquo;Structure types&rdquo;</a> in the <em>C# Language Reference</em>.</p><footer class=footline></footer></article></div></main></div><script>window.MathJax=Object.assign(window.MathJax||{},{tex:{inlineMath:[["\\(","\\)"],["$","$"]],displayMath:[["\\[","\\]"],["$$","$$"]]},options:{enableMenu:!1}},JSON.parse("{}"))</script><script id=MathJax-script async src=/cis300/js/mathjax/tex-mml-chtml.js?1769099586></script><script src=/cis300/js/clipboard/clipboard.min.js?1769099586 defer></script><script src=/cis300/js/perfect-scrollbar/perfect-scrollbar.min.js?1769099586 defer></script><script src=/cis300/js/theme.min.js?1769099586 defer></script></div><script src=/cis300/js/tele-scroll.min.js?1769099586 defer></script></body></html>