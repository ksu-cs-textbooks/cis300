<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.89.4" />
    <meta name="description" content="K-State CIS 300: Data Structures">
<meta name="author" content="Rod Howell and Josh Weese">

    <link rel="icon" href="https://ksu-cs-textbooks.github.io/cis300/images/favicon.png" type="image/png">

    <title>Enumerators :: Data Structures in C#</title>

    
    <link href="https://ksu-cs-textbooks.github.io/cis300/css/nucleus.css?1657829539" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis300/css/fontawesome-all.min.css?1657829539" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis300/css/hybrid.css?1657829539" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis300/css/featherlight.min.css?1657829539" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis300/css/perfect-scrollbar.min.css?1657829539" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis300/css/auto-complete.css?1657829539" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis300/css/atom-one-dark-reasonable.css?1657829539" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis300/css/theme.css?1657829539" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis300/css/tabs.css?1657829539" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis300/css/hugo-theme.css?1657829539" rel="stylesheet">
    
    <link href="https://ksu-cs-textbooks.github.io/cis300/css/theme-purple.css?1657829539" rel="stylesheet">
    
    
    
    

    <script src="https://ksu-cs-textbooks.github.io/cis300/js/jquery-3.3.1.min.js?1657829539"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
    

     
    
<script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$','$$'], ['\\[', '\\]']],
        processEscapes: true,
        processEnvironments: true
      },
      options: {
        skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
      }
    };
  
    window.addEventListener('load', (event) => {
        document.querySelectorAll("mjx-container").forEach(function(x){
          x.parentElement.classList += 'has-jax'})
      });
  
</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type="text/javascript" id="MathJax-script" async
src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  </head>
  <body class="" data-url="https://ksu-cs-textbooks.github.io/cis300/appendix/syntax/enumerators/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="https://ksu-cs-textbooks.github.io/cis300/">
  CIS 300 - Data Structures
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="https://ksu-cs-textbooks.github.io/cis300/js/lunr.min.js?1657829539"></script>
<script type="text/javascript" src="https://ksu-cs-textbooks.github.io/cis300/js/auto-complete.js?1657829539"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/ksu-cs-textbooks.github.io\/cis300\/";
    
</script>
<script type="text/javascript" src="https://ksu-cs-textbooks.github.io/cis300/js/search.js?1657829539"></script>

    
  </div>
  
    <section id="homelinks">
      <ul>
        <li>
            <a class="padding" href='https://ksu-cs-textbooks.github.io/cis300/'><i class='fas fa-home'></i> Home</a>
        </li>
      </ul>
    </section>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
  
 

          
          




 
  
    
    <li data-nav-id="/io/" title="Input/Output" class="dd-item
        
        
        
        ">
      <a href="https://ksu-cs-textbooks.github.io/cis300/io/">
        
        
          
          <i class="fas fa-angle-right fa-fw"></i>
          
        
          <b>1. </b>Input/Output
          

      </a>
    
  
 

          
          




 
  
    
    <li data-nav-id="/strings/" title="strings and StringBuilders" class="dd-item
        
        
        
        ">
      <a href="https://ksu-cs-textbooks.github.io/cis300/strings/">
        
        
          
          <i class="fas fa-angle-right fa-fw"></i>
          
        
          <b>2. </b>strings and StringBuilders
          

      </a>
    
  
 

          
          




 
  
    
    <li data-nav-id="/stacks-queues/" title="Stacks and Queues" class="dd-item
        
        
        
        ">
      <a href="https://ksu-cs-textbooks.github.io/cis300/stacks-queues/">
        
        
          
          <i class="fas fa-angle-right fa-fw"></i>
          
        
          <b>3. </b>Stacks and Queues
          

      </a>
    
  
 

          
          




 
  
    
    <li data-nav-id="/linked-lists/" title="Linked Lists" class="dd-item
        
        
        
        ">
      <a href="https://ksu-cs-textbooks.github.io/cis300/linked-lists/">
        
        
          
          <i class="fas fa-angle-right fa-fw"></i>
          
        
          <b>4. </b>Linked Lists
          

      </a>
    
  
 

          
          




 
  
    
    <li data-nav-id="/dictionaries/" title="Dictionaries" class="dd-item
        
        
        
        ">
      <a href="https://ksu-cs-textbooks.github.io/cis300/dictionaries/">
        
        
          
          <i class="fas fa-angle-right fa-fw"></i>
          
        
          <b>5. </b>Dictionaries
          

      </a>
    
  
 

          
          




 
  
    
    <li data-nav-id="/trees/" title="Trees" class="dd-item
        
        
        
        ">
      <a href="https://ksu-cs-textbooks.github.io/cis300/trees/">
        
        
          
          <i class="fas fa-angle-right fa-fw"></i>
          
        
          <b>6. </b>Trees
          

      </a>
    
  
 

          
          




 
  
    
    <li data-nav-id="/hashing/" title="Hash Tables" class="dd-item
        
        
        
        ">
      <a href="https://ksu-cs-textbooks.github.io/cis300/hashing/">
        
        
          
          <i class="fas fa-angle-right fa-fw"></i>
          
        
          <b>7. </b>Hash Tables
          

      </a>
    
  
 

          
          




 
  
    
    <li data-nav-id="/graphs/" title="Graphs" class="dd-item
        
        
        
        ">
      <a href="https://ksu-cs-textbooks.github.io/cis300/graphs/">
        
        
          
          <i class="fas fa-angle-right fa-fw"></i>
          
        
          <b>8. </b>Graphs
          

      </a>
    
  
 

          
          




 
  
    
    <li data-nav-id="/sorting/" title="Sorting" class="dd-item
        
        
        
        ">
      <a href="https://ksu-cs-textbooks.github.io/cis300/sorting/">
        
        
          
          <i class="fas fa-angle-right fa-fw"></i>
          
        
          <b>9. </b>Sorting
          

      </a>
    
  
 

          
          




 
  
    
    <li data-nav-id="/appendix/" title="Appendices" class="dd-item
        parent
        
        
        ">
      <a href="https://ksu-cs-textbooks.github.io/cis300/appendix/">
        
        
          
          <i class="fas fa-angle-down fa-fw"></i>
          
        
          <b>A. </b>Appendices
          

      </a>
    
      
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/appendix/syntax/" title="C# Syntax" class="dd-item
        parent
        
        
        ">
      <a href="https://ksu-cs-textbooks.github.io/cis300/appendix/syntax/">
        
        
          
          <i class="fas fa-angle-down fa-fw"></i>
          
        
          <b>A1. </b>C# Syntax
          

      </a>
    
      
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/appendix/syntax/reference-value/" title="Reference Types and Value Types" class="dd-item ">
        <a href="https://ksu-cs-textbooks.github.io/cis300/appendix/syntax/reference-value/">
        <i class="fas fa-angle-down fa-fw" style="color: transparent;"></i>
        <b>A1.1. </b>Reference Types and Value Types
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/appendix/syntax/enumerations/" title="Enumerations" class="dd-item ">
        <a href="https://ksu-cs-textbooks.github.io/cis300/appendix/syntax/enumerations/">
        <i class="fas fa-angle-down fa-fw" style="color: transparent;"></i>
        <b>A1.2. </b>Enumerations
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/appendix/syntax/structs/" title="Structures" class="dd-item ">
        <a href="https://ksu-cs-textbooks.github.io/cis300/appendix/syntax/structs/">
        <i class="fas fa-angle-down fa-fw" style="color: transparent;"></i>
        <b>A1.3. </b>Structures
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/appendix/syntax/decimals/" title="The decimal Type" class="dd-item ">
        <a href="https://ksu-cs-textbooks.github.io/cis300/appendix/syntax/decimals/">
        <i class="fas fa-angle-down fa-fw" style="color: transparent;"></i>
        <b>A1.4. </b>The decimal Type
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/appendix/syntax/const/" title="Constant Fields" class="dd-item ">
        <a href="https://ksu-cs-textbooks.github.io/cis300/appendix/syntax/const/">
        <i class="fas fa-angle-down fa-fw" style="color: transparent;"></i>
        <b>A1.5. </b>Constant Fields
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/appendix/syntax/properties/" title="Properties" class="dd-item ">
        <a href="https://ksu-cs-textbooks.github.io/cis300/appendix/syntax/properties/">
        <i class="fas fa-angle-down fa-fw" style="color: transparent;"></i>
        <b>A1.6. </b>Properties
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/appendix/syntax/indexers/" title="Indexers" class="dd-item ">
        <a href="https://ksu-cs-textbooks.github.io/cis300/appendix/syntax/indexers/">
        <i class="fas fa-angle-down fa-fw" style="color: transparent;"></i>
        <b>A1.7. </b>Indexers
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/appendix/syntax/static-this/" title="The Keywords static and this" class="dd-item ">
        <a href="https://ksu-cs-textbooks.github.io/cis300/appendix/syntax/static-this/">
        <i class="fas fa-angle-down fa-fw" style="color: transparent;"></i>
        <b>A1.8. </b>The Keywords static and this
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/appendix/syntax/out-ref/" title="out and ref Parameters" class="dd-item ">
        <a href="https://ksu-cs-textbooks.github.io/cis300/appendix/syntax/out-ref/">
        <i class="fas fa-angle-down fa-fw" style="color: transparent;"></i>
        <b>A1.9. </b>out and ref Parameters
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/appendix/syntax/foreach/" title="The foreach Statement" class="dd-item ">
        <a href="https://ksu-cs-textbooks.github.io/cis300/appendix/syntax/foreach/">
        <i class="fas fa-angle-down fa-fw" style="color: transparent;"></i>
        <b>A1.10. </b>The foreach Statement
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/appendix/syntax/enumerators/" title="Enumerators" class="dd-item active">
        <a href="https://ksu-cs-textbooks.github.io/cis300/appendix/syntax/enumerators/">
        <i class="fas fa-angle-down fa-fw" style="color: transparent;"></i>
        <b>A1.11. </b>Enumerators
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/appendix/syntax/switch/" title="The switch Statement" class="dd-item ">
        <a href="https://ksu-cs-textbooks.github.io/cis300/appendix/syntax/switch/">
        <i class="fas fa-angle-down fa-fw" style="color: transparent;"></i>
        <b>A1.12. </b>The switch Statement
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/appendix/syntax/remainder/" title="The Remainder Operator" class="dd-item ">
        <a href="https://ksu-cs-textbooks.github.io/cis300/appendix/syntax/remainder/">
        <i class="fas fa-angle-down fa-fw" style="color: transparent;"></i>
        <b>A1.13. </b>The Remainder Operator
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
    
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/appendix/vs-2019/" title="Visual Studio Enterprise 2019" class="dd-item
        
        
        
        ">
      <a href="https://ksu-cs-textbooks.github.io/cis300/appendix/vs-2019/">
        
        
          
          <i class="fas fa-angle-right fa-fw"></i>
          
        
          <b>A2a. </b>Visual Studio Enterprise 2019
          

      </a>
    
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/appendix/vs/" title="Visual Studio Community 2022" class="dd-item
        
        
        
        ">
      <a href="https://ksu-cs-textbooks.github.io/cis300/appendix/vs/">
        
        
          
          <i class="fas fa-angle-right fa-fw"></i>
          
        
          <b>A2b. </b>Visual Studio Community 2022
          

      </a>
    
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/appendix/style/" title="Programming Style Requirements" class="dd-item
        
        
        
        ">
      <a href="https://ksu-cs-textbooks.github.io/cis300/appendix/style/">
        
        
          
          <i class="fas fa-angle-right fa-fw"></i>
          
        
          <b>A3. </b>Programming Style Requirements
          

      </a>
    
  
 

            
          
        
        </ul>
      
    </li>
    
  
 

          
        
    </ul>

    
    

    
    <section id="footer">
      <p>Built using <a href="http://gohugo.io/">Hugo</a>
  and <a href="https://github.com/russfeld/ksucs-hugo-theme">ksucs-hugo-theme</a>
  with assistance from Josh Weese and Russ Feldhausen.</p>
<br/>
<p>Microsoft and Visual Studio are either registered trademarks or trademarks of Microsoft Corporation in the United States and/or other countries. </p>
<br/>
<p><strong><i>© Copyright 2014-2020, <a href="http://people.cs.ksu.edu/~rhowell/" target="_">Rod Howell</a>. All rights reserved.</i></strong></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                  <div id="top-github-link">
                    <a id="themelink" class="github-link" title='Toggle Light or Dark Mode' href="#">
                      <i class="fas fa-moon"></i>
                      <span id="top-github-link-text"></span>
                    </a>
                    <a class="github-link" title='Teleprompter View' href="tele.html" target="blank">
                      <i class="fas fa-tv"></i>
                      <span id="top-github-link-text"></span>
                    </a>
                    <a class="github-link" title='Embed this page' href="embed.html" target="blank">
                      <i class="fas fa-expand-arrows-alt"></i>
                      <span id="top-github-link-text"></span>
                    </a>
                
                  
                  
                  
                    <a class="github-link" title='Edit this page' href="https://gitlab.cs.ksu.edu/cis300/cis300-book/tree/master/content/appendix/syntax/enumerators.md" target="blank">
                      <i class="fas fa-code-branch"></i>
                      <span id="top-github-link-text"></span>
                    </a>
                  
                
                  </div>
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            <a href='https://ksu-cs-textbooks.github.io/cis300/'></a> > <a href='https://ksu-cs-textbooks.github.io/cis300/appendix/'>Appendices</a> > <a href='https://ksu-cs-textbooks.github.io/cis300/appendix/syntax/'>C# Syntax</a> > Enumerators
          
        
          
        
          
        
          
        
                 
                  </span>
                </div>
                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
          <div id="chapter">
        
        <div id="body-inner">
          

        


<h2 id="enumerators">Enumerators</h2>
<p>As we saw in <a href="https://ksu-cs-textbooks.github.io/cis300/appendix/syntax/foreach">the previous section</a>, in order for a data structure to support a <strong>foreach</strong> loop, it must be a subtype of either <a href="https://docs.microsoft.com/en-us/dotnet/api/system.collections.ienumerable?view=netframework-4.7.2" target="_blank"><strong>IEnumerable</strong></a> or <a href="https://docs.microsoft.com/en-us/dotnet/api/system.collections.generic.ienumerable-1?view=netframework-4.7.2" target="_blank"><strong>IEnumerable&lt;T&gt;</strong></a>, where <strong>T</strong> is the type of the elements in the data structure. Thus, because <a href="https://docs.microsoft.com/en-us/dotnet/api/system.collections.generic.dictionary-2?view=netframework-4.7.2" target="_blank"><strong>Dictionary&lt;TKey, TValue&gt;</strong></a> is a subtype of <strong>IEnumerable&lt;KeyValuePair&lt;TKey, TValue&gt;&gt;</strong>, we can use a <strong>foreach</strong> loop to iterate through the key-value pairs that it stores. Likewise, because its <a href="https://docs.microsoft.com/en-us/dotnet/api/system.collections.generic.dictionary-2.keys?view=netframework-4.7.2" target="_blank"><strong>Keys</strong></a> and <a href="https://docs.microsoft.com/en-us/dotnet/api/system.collections.generic.dictionary-2.values?view=netframework-4.7.2" target="_blank"><strong>Values</strong></a> properties get objects that are subtypes of <strong>IEnumerable&lt;TKey&gt;</strong> and <strong>IEnumerable&lt;TValue&gt;</strong>, respectively, <strong>foreach</strong> loops may be used to iterate these objects as well, in order to process all the keys or all the values stored in the dictionary. <strong>IEnumerable</strong> and <strong>IEnumerable&lt;T&gt;</strong> are <a href="https://ksu-cs-textbooks.github.io/cis300/trees/tries/multiple-impl">interfaces</a>; hence, we must define any subtypes so that they implement these interfaces. In this section, we will show how to implement the <strong>IEnumerable&lt;T&gt;</strong> interface to support a <strong>foreach</strong> loop.</p>
<p>The <strong>IEnumerable&lt;T&gt;</strong> interface requires two methods:</p>
<ul>
<li><strong>public IEnumerator&lt;T&gt; GetEnumerator()</strong></li>
<li><strong>IEnumerator IEnumerable.GetEnumerator()</strong></li>
</ul>
<p>The latter method is required only because <strong>IEnumerable&lt;T&gt;</strong> is a subtype of <strong>IEnumerable</strong>, and that interface requires a <strong>GetEnumerator</strong> method that returns a non-generic <strong>IEnumerator</strong>. Both of these methods should return the same object; hence, because <strong>IEnumerator&lt;T&gt;</strong> is also a subtype of <strong>IEnumerator</strong>, this method can simply call the first method:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C#" data-lang="C#">IEnumerator IEnumerable.GetEnumerator()
{
    <span style="color:#66d9ef">return</span> GetEnumerator();
}
</code></pre></div><p>The <strong>public GetEnumerator</strong> method returns an <strong>IEnumerator&lt;T&gt;</strong>. In order to get instances of this interface, we could define a class that implements it; however, C# provides a simpler way to define a subtype of this interface, or, when needed, the <strong>IEnumerable&lt;T&gt;</strong> interface.</p>
<p>Defining such an enumerator is as simple as writing code to iterate through the elements of the data structure. As each element is reached, it is enumerated via a <strong>yield return</strong> statement. For example, suppose a dictionary implementation uses a <strong>List&lt;KeyValuePair&lt;TKey, TValue&gt;&gt;</strong> called <code>_elements</code> to store its key-value pairs. We can then define its <strong>GetEnumerator</strong> method as follows:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C#" data-lang="C#"><span style="color:#66d9ef">public</span> IEnumerator&lt;KeyValuePair&lt;TKey, TValue&gt;&gt; GetEnumerator()
{
    <span style="color:#66d9ef">foreach</span> (KeyValuePair&lt;TKey, TValue&gt; p <span style="color:#66d9ef">in</span> <span style="color:#ae81ff">_</span>elements)
    {
        <span style="color:#66d9ef">yield</span> <span style="color:#66d9ef">return</span> p;
    }
}
</code></pre></div><p>Suppose user code contains a <strong>Dictionary&lt;string, int&gt;</strong> called <code>d</code> and a <strong>foreach</strong> loop structured as follows:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C#" data-lang="C#"><span style="color:#66d9ef">foreach</span> (KeyValuePair&lt;<span style="color:#66d9ef">string</span>, <span style="color:#66d9ef">int</span>&gt; x <span style="color:#66d9ef">in</span> d)
{

}
</code></pre></div><p>Then the <strong>GetEnumerator</strong> method is executed until the <strong>yield return</strong> is reached. The state of this method is then saved, and the value <code>p</code> is used as the value for <code>x</code> in the first iteration of the <strong>foreach</strong> in the user code. When this loop reaches its second iteration, the <strong>GetEnumerator</strong> method resumes its execution until it reaches the <strong>yield return</strong> a second time, and again, the current value of <code>p</code> is used as the value of <code>x</code> in the second iteration of the loop in user code. This continues until the <strong>GetEnumerator</strong> method finishes; at this point, the loop in user code terminates.</p>
<p>Before continuing, we should mention that there is a simpler way of implementing the <strong>public GetEnumerator</strong> method in the above example. Because <strong>List&lt;T&gt;</strong> implements <strong>IEnumerable&lt;T&gt;</strong>, we can simply use its enumerator:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C#" data-lang="C#"><span style="color:#66d9ef">public</span> IEnumerator&gt; GetEnumerator()
{
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">_</span>elements.GetEnumerator();
}
</code></pre></div><p>However, the first solution illustrates a more general technique that can be used when we don&rsquo;t have the desired enumerator already available. For instance, continuing the above example, suppose we wish to define a <strong>Keys</strong> property to get an <strong>IEnumerable&lt;TKey&gt;</strong> that iterates through the keys in the dictionary. Because the dictionary now supports a <strong>foreach</strong> loop, we can define this code to iterate through the key-value pairs in the dictionary, rather than the key-value pairs stored in the <strong>List&lt;KeyVauePair&lt;TKey, TValue&gt;&gt;</strong>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C#" data-lang="C#"><span style="color:#66d9ef">public</span> IEnumerable&lt;TKey&gt; Keys
{
    <span style="color:#66d9ef">get</span>
    {
        <span style="color:#66d9ef">foreach</span> (KeyValuePair&lt;TKey, TValue&gt; p <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">this</span>)
        {
            <span style="color:#66d9ef">yield</span> <span style="color:#66d9ef">return</span> p.Key;
        }
    }
}
</code></pre></div><p>The above code is more maintainable than iterating through the <strong>List&lt;KeyValuePair&lt;TKey, TValue&gt;&gt;</strong> as it doesn&rsquo;t depend on the specific implementation of the dictionary.</p>
<p>While this technique usually works best with iterative code, it can also be used with recursion, although the translation usually ends up being less direct and less efficient. Suppose, for example, our dictionary were implemented as in <a href="https://ksu-cs-textbooks.github.io/cis300/trees/bst">“Binary Search Trees”</a>, where a binary search tree is used. The idea is to adapt the <a href="https://ksu-cs-textbooks.github.io/cis300/trees/bst/inorder">inorder traversal</a> algorithm. However, we can&rsquo;t use this directly to implement a recursive version of the <strong>GetEnumerator</strong> method because this method does not take any parameters; hence, we can&rsquo;t apply it to arbitrary subtrees. Instead, we need a separate recursive method that takes a <strong>BinaryTreeNode&lt;KeyValuePair&lt;TKey, TValue&gt;&gt;</strong> as its parameter and returns the enumerator we need. Another problem, though, is that the recursive calls will no longer do the processing that needs to be done on the children - they will simply return enumerators. We therefore need to iterate through each of these enumerators to include their elements in the enumerator we are returning:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C#" data-lang="C#"><span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> IEnumerable&lt;KeyValuePair&lt;TKey, TValue&gt;&gt;
    GetEnumerable(BinaryTreeNode&lt;KeyValuePair&lt;TKey, TValue&gt;&gt; t)
{
    <span style="color:#66d9ef">if</span> (t != <span style="color:#66d9ef">null</span>)
    {
        <span style="color:#66d9ef">foreach</span> (KeyValuePair&lt;TKey, TValue&gt; p <span style="color:#66d9ef">in</span> GetEnumerable(t.LeftChild))
        {
            <span style="color:#66d9ef">yield</span> <span style="color:#66d9ef">return</span> p;
        }
        <span style="color:#66d9ef">yield</span> <span style="color:#66d9ef">return</span> t.Data;
        <span style="color:#66d9ef">foreach</span> (KeyValuePair&lt;TKey, TValue&gt; p <span style="color:#66d9ef">in</span> GetEnumerable(t.RightChild))
        {
            <span style="color:#66d9ef">yield</span> <span style="color:#66d9ef">return</span> p;
        }
    }
}
</code></pre></div><p>Note that we&rsquo;ve made the return type of this method <strong>IEnumerable&lt;KeyValuePair&lt;TKey, TValue&gt;&gt;</strong> because we need to use a <strong>foreach</strong> loop on the result of the recursive calls. Then because any instance of this type must have a <strong>GetEnumerator</strong> method, we can implement the <strong>GetEnumerator</strong> method for the dictionary as follows:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C#" data-lang="C#"><span style="color:#66d9ef">public</span> IEnumerator&lt;KeyValuePair&lt;TKey, TValue&gt;&gt; GetEnumerator()
{
    <span style="color:#66d9ef">return</span> GetEnumerable(<span style="color:#ae81ff">_</span>elements).GetEnumerator();
}
</code></pre></div><p>In transforming the inorder traversal into the above code, we have introduced some extra loops. These loops lead to less efficient code. Specifically, if the binary search tree is an AVL tree or other balanced binary tree, the time to iterate through this enumerator is in <span style="white-space:nowrap">$O(n \lg n)$,</span> where $n$ is the number of nodes in the tree. The inorder traversal, by contrast, runs in $O(n)$ time. In order to achieve this running time with an enumerator, we need to translate the inorder traversal to iterative code using a stack. However, this code isn&rsquo;t easy to understand:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C#" data-lang="C#"><span style="color:#66d9ef">public</span> IEnumerator&lt;KeyValuePair&lt;TKey, TValue&gt;&gt; GetEnumerator()
{
    Stack&lt;BinaryTreeNode&lt;KeyValuePair&lt;TKey, TValue&gt;&gt;&gt; s = 
        <span style="color:#66d9ef">new</span> Stack&lt;BinaryTreeNode&lt;KeyValuePair&lt;TKey, TValue&gt;&gt;&gt;();
    BinaryTreeNode&lt;KeyValuePair&lt;TKey, TValue&gt;&gt; t = <span style="color:#ae81ff">_</span>elements;
    <span style="color:#66d9ef">while</span> (t != <span style="color:#66d9ef">null</span> || s.Count &gt; <span style="color:#ae81ff">0</span>)
    {
        <span style="color:#66d9ef">while</span> (t != <span style="color:#66d9ef">null</span>)
        {
            s.Push(t);
            t = t.LeftChild;
        }
        t = s.Pop();
        <span style="color:#66d9ef">yield</span> <span style="color:#66d9ef">return</span> t.Data;
        t = t.RightChild;
    }
}
</code></pre></div>

<footer class="footline">
	
</footer>

        
        </div> 
        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="https://ksu-cs-textbooks.github.io/cis300/appendix/syntax/foreach/" title="The foreach Statement"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="https://ksu-cs-textbooks.github.io/cis300/appendix/syntax/switch/" title="The switch Statement" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="https://ksu-cs-textbooks.github.io/cis300/js/clipboard.min.js?1657829540"></script>
    <script src="https://ksu-cs-textbooks.github.io/cis300/js/perfect-scrollbar.min.js?1657829540"></script>
    <script src="https://ksu-cs-textbooks.github.io/cis300/js/perfect-scrollbar.jquery.min.js?1657829540"></script>
    <script src="https://ksu-cs-textbooks.github.io/cis300/js/jquery.sticky.js?1657829540"></script>
    <script src="https://ksu-cs-textbooks.github.io/cis300/js/featherlight.min.js?1657829540"></script>
    <script src="https://ksu-cs-textbooks.github.io/cis300/js/highlight.pack.js?1657829540"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="https://ksu-cs-textbooks.github.io/cis300/js/modernizr.custom-3.6.0.js?1657829540"></script>
    <script src="https://ksu-cs-textbooks.github.io/cis300/js/learn.js?1657829540"></script>
    <script src="https://ksu-cs-textbooks.github.io/cis300/js/hugo-learn.js?1657829540"></script>
    <script src="https://ksu-cs-textbooks.github.io/cis300/js/themer.js?1657829540"></script>

    
        
            <script src="https://ksu-cs-textbooks.github.io/cis300/mermaid/mermaid.js?1657829540"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    

    

    
    

    
<script 
src="https://cdn.jsdelivr.net/npm/quizdown@latest/public/build/quizdown.js">
</script>
<script 
src="https://cdn.jsdelivr.net/npm/quizdown@latest/public/build/extensions/quizdownKatex.js">
</script>
<script 
src="https://cdn.jsdelivr.net/npm/quizdown@latest/public/build/extensions/quizdownHighlight.js">
</script>
<script>quizdown.register(quizdownHighlight).register(quizdownKatex).init()</script> 
  </body>
</html>

