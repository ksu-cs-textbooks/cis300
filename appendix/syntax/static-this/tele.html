




	
	
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.101.0">
    <meta name="generator" content="Relearn 5.2.0+tip">
    <meta name="robots" content="noindex, nofollow, noarchive, noimageindex">
    <meta name="description" content="K-State CIS 300: Data Structures">
    <meta name="author" content="Rod Howell and Josh Weese">
    <title>The Keywords static and this :: Data Structures in C#</title>
    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="https://ksu-cs-textbooks.github.io/cis300/css/fontawesome-all.min.css?1686149330" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cis300/css/fontawesome-all.min.css?1686149330" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cis300/css/featherlight.min.css?1686149330" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cis300/css/featherlight.min.css?1686149330" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cis300/css/auto-complete.css?1686149330" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cis300/css/auto-complete.css?1686149330" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cis300/css/perfect-scrollbar.min.css?1686149330" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis300/css/nucleus.css?1686149330" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis300/css/fonts.css?1686149330" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cis300/css/fonts.css?1686149330" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cis300/css/theme.css?1686149330" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis300/css/theme-light-theme.css?1686149330" rel="stylesheet" id="variant-style">
    <link href="https://ksu-cs-textbooks.github.io/cis300/css/ie.css?1686149330" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis300/css/variant.css?1686149330" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis300/css/print.css?1686149330" rel="stylesheet" media="print">
    <script src="https://ksu-cs-textbooks.github.io/cis300/js/variant.js?1686149330"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      var index_url="https://ksu-cs-textbooks.github.io/cis300/index.json";
      var root_url="https://ksu-cs-textbooks.github.io/cis300/";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = 'Copy to clipboard';
      window.T_Copied_to_clipboard = 'Copied to clipboard!';
      window.T_Copy_link_to_clipboard = 'Copy link to clipboard';
      window.T_Link_copied_to_clipboard = 'Copied link to clipboard!';
      // some further base stuff
      var baseUriFull='https:\/\/ksu-cs-textbooks.github.io\/cis300/';
      window.variants && variants.init( [ 'light-theme', 'dark-theme' ] );
    </script>
    
    <link href="https://ksu-cs-textbooks.github.io/cis300/css/custom.css?1686149330" rel="stylesheet">
    <script src="https://ksu-cs-textbooks.github.io/cis300/js/jquery.min.js?1686149330" defer></script>

  </head>
  <body class="mobile-support tele disableInlineCopyToClipboard" data-url="https://ksu-cs-textbooks.github.io/cis300/appendix/syntax/static-this/">
    
    <div id="tele" class="tele mirror">
    
    <div id="body" class="default-animation">
      
      
      
      <main id="body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <div id="head-tags">
          </div>
          <article class="default">
<div hidden><h1>The Keywords static and this</h1></div>
<h2 id="the-keywords-static-and-this">The Keywords <strong>static</strong> and <strong>this</strong></h2>
<p>Object-oriented programming languages such as C# are centered on the concept of an object. Class and structure definitions give instructions for constructing individual objects of various types, normally by using the <strong>new</strong> keyword. When an object is constructed, it has its own fields in which values may be stored. Specifically, if type <strong>T</strong> has an <strong>int</strong> field called <code>_length</code>, then each object of type <strong>T</strong> will have have such a field, and each of these fields may store a different <strong>int</strong>. Thus, for example, if <code>x</code> and <code>y</code> are instances of type <strong>T</strong>, then <code>x._length</code> may contain 7, while <code>y._length</code> may contain 12.</p>
<p>Likewise, we can think of each object as having its own methods and properties, as when any of these methods or properties use the fields of the containing class or structure, they will access the fields belonging to a specific object. For example, if type <strong>T</strong> contains an <strong>Add</strong> method that changes the value stored in the <code>_length</code> filed, then a call <strong>x.Add</strong> will potentially change the value stored in <code>x._length</code>.</p>
<p>However, there are times when we want to define a field, method, or property, but we don&rsquo;t want it associated with any specific object. For example, suppose we want to define a unique <strong>long</strong> value for each instance of some class <strong>C</strong>. We can define a <strong>private long</strong> field <code>_id</code> within this class and give it a value within its constructor. But how do we get this value in a way that ensures that it is unique? One way is to define a <strong>private static long</strong> field <code>_nextId</code>, as in the following code:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c#" data-lang="c#"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">C</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">long</span> _nextId = <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">long</span> _id;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> C()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        _id = _nextId;
</span></span><span style="display:flex;"><span>        _nextId++;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Other members could also be defined.</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>By defining <code>_nextId</code> to be <strong>static</strong>, we are specifying that each instance of <strong>C</strong> will not contain a <code>_nextId</code> field, but instead, there is a single <code>_nextId</code> field belonging to the entire class. As a result, code belonging to any instance of <strong>C</strong> can access this one field. Thus, each time an instance of <strong>C</strong> is constructed, this one field is incremented. This field therefore acts as a counter that keeps track of how many instances of <strong>C</strong> have been constructed. On the other hand, because <code>_id</code> is not <strong>static</strong>, each instance of <strong>C</strong> contains an <code>_id</code> field. Thus, when the assignment,</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c#" data-lang="c#"><span style="display:flex;"><span>_id = _nextId;
</span></span></code></pre></div><p>is done, the value in the single <code>_nextId</code> field is copied to the value of the <code>_id</code> field belonging to the instance being constructed. Because the single <code>_nextId</code> field is incremented every time a new instance of <strong>C</strong> is constructed, each instance receives a different value for <code>_id</code>.</p>
<p>We can also define <strong>static</strong> methods or properties. For example, the 

<a href="https://learn.microsoft.com/en-us/dotnet/api/system.windows.messagebox.show?view=windowsdesktop-6.0#system-windows-messagebox-show%28system-string%29" target="_blank" rel="noopener"><strong>MessageBox.Show(string text)</strong></a> method is <strong>static</strong>. Because it is <strong>static</strong>, we don&rsquo;t need a <strong>MessageBox</strong> object in order to call this method - we simply call something like:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c#" data-lang="c#"><span style="display:flex;"><span>MessageBox.Show(<span style="color:#e6db74">&#34;Hello world!&#34;</span>);
</span></span></code></pre></div><p><strong>static</strong> methods can also be useful for avoiding <strong>NullReferenceException</strong>s. For example, there are times when we want to determine whether a variable <code>x</code> contains <strong>null</strong>, but <code>x</code> is of an unknown type (perhaps its type is defined by some 

<a href="https://ksu-cs-textbooks.github.io/cis300/stacks-queues/stacks/#generic">type parameter</a> <strong>T</strong>). In such a case, we cannot use == to make the comparison because == is not defined for all types. Furthermore, the following will never work:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c#" data-lang="c#"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> (x.Equals(<span style="color:#66d9ef">null</span>))
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Such code will compile, but if <code>x</code> is <strong>null</strong>, then calling its <strong>Equals</strong> method will throw a <strong>NullReferenceException</strong>. In all other cases, the <strong>if</strong>-condition will evaluate to <strong>false</strong>. Fortunately, a 

<a href="https://learn.microsoft.com/en-us/dotnet/api/system.object.equals?view=net-6.0#system-object-equals%28system-object-system-object%29" target="_blank" rel="noopener"><strong>static Equals</strong></a> method is available to handle this situation:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C#" data-lang="C#"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> (Equals(x, <span style="color:#66d9ef">null</span>))
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Because this method is defined within the <strong>object</strong> class, which is a supertype of every other type in C#, we can refer to this method without specifying the containing class, just as if we had defined it in the class or structure we are writing. Because this method does not belong to individual objects, we don&rsquo;t need any specific object available in order to call it. It therefore avoids a <strong>NullReferenceException</strong>.</p>
<p>Because a <strong>static</strong> method or property does not belong to any instance of its type, it cannot access any non-<strong>static</strong> members directly, as they all belong to specific instances of the type. If however, the code has access to a specific instance of the type (for example, this instance might be passed as a parameter), the code may reference non-<strong>static</strong> members of that instance. For example, suppose we were to add to the class <strong>C</strong> above a method such as:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c#" data-lang="c#"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">int</span> DoSomething(C x)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Code inside this method would be able to access <code>_nextID</code>, but not <code>_id</code>. Furthermore, it would be able to access any <strong>static</strong> methods or properties contained in the class definition, as well as all constructors, but no non-<strong>static</strong> methods or properties. However, it may access <code>x._id</code>, as well as any other members of <code>x</code>.</p>
<p>Code within a constructor or a non-<strong>static</strong> method or property can also access the object that contains it by using the keyword <strong>this</strong>. Thus, in the constructor code above, we could have written the line</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c#" data-lang="c#"><span style="display:flex;"><span>_id = _nextId;
</span></span></code></pre></div><p>as</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C#" data-lang="C#"><span style="display:flex;"><span><span style="color:#66d9ef">this</span>._id = _nextId;
</span></span></code></pre></div><p>In fact, the way we originally wrote the code is simply an abbreviation of the above line. Another way of thinking of the restrictions on code within a <strong>static</strong> method or property is that this code cannot use <strong>this</strong>, either explicitly or implicitly.</p>

            <footer class="footline">
            </footer>
          </article>
        </div>
      </main>
    </div>
    
  </div>
    
    
    
    
    <script src="https://ksu-cs-textbooks.github.io/cis300/js/clipboard.min.js?1686149330" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cis300/js/perfect-scrollbar.min.js?1686149330" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cis300/js/featherlight.min.js?1686149330" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cis300/js/theme.js?1686149330" defer></script>
    
    <script src="https://ksu-cs-textbooks.github.io/cis300/js/tele-scroll.js?1686149330 defer"></script>
    
  </body>
</html>
